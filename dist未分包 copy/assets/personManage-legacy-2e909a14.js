System.register(["./back-legacy-f9b9cc9a.js","./JyTable-legacy-cb6848b2.js","./main-legacy-80c027be.js","./authorityManagement-legacy-74b5057f.js","./sangedian-legacy-5b82475d.js","./Layout-legacy-b2631a91.js","./searchForm-legacy-661aae1d.js","./ketanchude-legacy-3429c6dd.js","./KDocumentTypeDialog-legacy-9730cc30.js","./pagination-legacy-abc2a695.js","./batch-legacy-5a4e36c5.js","./index-legacy-1964794f.js"],(function(e,a){"use strict";var t,l,o,r,s,n,i,c,d,u,m,g,h,b,y,p,v,f,w,x,S,C,M,B,j=document.createElement("style");return j.textContent=".PrintControlManagement-LibraryOfSeals[data-v-d7ae183b]{margin:0%}.PrintControlManagement-LibraryOfSeals .title[data-v-d7ae183b]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-LibraryOfSeals .title .title-more[data-v-d7ae183b]{height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-more .title-more-add[data-v-d7ae183b]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-more .title-more-down[data-v-d7ae183b]{height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-desc[data-v-d7ae183b]{display:flex;align-items:center;font-size:22px;color:rgba(0,0,0,.85)}.PrintControlManagement-LibraryOfSeals .title .title-desc .title-desc-img[data-v-d7ae183b]{margin-right:.5rem;cursor:pointer}.PrintControlManagement-LibraryOfSeals .title .title-desc .role[data-v-d7ae183b]{font-size:16px;color:rgba(0,0,0,.65)}.PrintControlManagement-LibraryOfSeals .batch[data-v-d7ae183b]{display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .batch .batch-desc[data-v-d7ae183b]{margin-right:.8571428571rem}.waixian[data-v-d7ae183b]{margin-left:25px;font-size:13px;color:#666}\n",document.head.appendChild(j),{setters:[e=>{t=e._},e=>{l=e.J},e=>{o=e._,r=e.I,s=e.C,n=e.v,i=e.h,c=e.i,d=e.Y,u=e.r,m=e.o,g=e.c,h=e.a,b=e.w,y=e.m,p=e.t,v=e.u,f=e.f,w=e.b3,x=e.l,S=e.g,C=e.y,M=e.z},e=>{B=e.a},null,null,null,null,null,null,null,null],execute:function(){const a=[{prop:"userName",label:"姓名",sortable:!0,flex:!0,"min-width":150,show:!0},{prop:"accountNo",label:"账号",sortable:!0,"min-width":150,show:!0},{prop:"hostOrganName",label:"所属部门",sortable:!0,"min-width":150,show:!0},{prop:"userTitle",label:"职位",sortable:!0,"min-width":150,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:220,show:!0,rankDisplayData:[{name:"t-zgj-role.Removal"}]}],j=e=>(C("data-v-d7ae183b"),e=e(),M(),e),k={class:"PrintControlManagement-LibraryOfSeals"},E={class:"breadcrumb"},I=S(" 权限管理 "),J=S(" 人员管理 "),T={class:"title"},L={class:"title"},O={class:"title-desc"},P=S(" 人员管理"),_={class:"role"},D={class:"title-more"},z={class:"title-more-add"},A=S("+ 新增人员"),U=j((()=>y("div",{class:"title-more-down"},null,-1))),q={class:"header-div"},R=["src"],F={class:"content-div"};e("default",o({setup(e){const o=r(),C=s(),M=n(null),j=n({}),N=n(C.query.roleName),V=i({sealIds:"",msg:"",tabsShow:[],searchSelected:[],typeList:[],activeTab:"",JyElMessageBox:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""},type:"删除"},showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}},componentsSearchForm:{style:{lineStyle:{width:"calc(100% / 3)"},labelStyle:{width:"100px"}},data:[{id:"searchKey",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"姓名/账号/职位"}},{id:"hostOrganId",label:"所属部门",type:"derivable",inCommonUse:!0,defaultAttribute:{placeholder:"+所属部门"}}],butData:[{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:a,data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"},"cell-style":({row:e,column:a,rowIndex:t,columnIndex:l})=>{if(""===a.property)return{color:"var(--jy-info-6)",cursor:"pointer"}}}},componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,50,100],background:!0}},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"批量移除"}]}}),$=()=>{V.activeTab="user",V.tabsShow=["user"],H.value=!0};j.value={roleId:C.query.roleId};const H=n(!1);let K="";const Y=(e,a,t,l)=>{"t-zgj-role.Removal"===t.name&&(V.JyElMessageBox.header.data="移除",V.JyElMessageBox.content.data="请问确定要移除吗？",V.JyElMessageBox.show=!0,V.JyElMessageBox.type="移除",K=a.userId)},W=()=>{o.go(-1)},Z=()=>{B.roleDelete(`${j.value.roleId}/${K}`).then((e=>{d.success("操作成功"),V.JyElMessageBox.show=!1,M.value.reloadData()}))};c((()=>V.searchSelected),(e=>{if(e&&0!==e.length)if("user"===V.activeTab){const a=[];e.forEach((e=>{a.push(e.id)})),B.addRoleUser({roleId:j.value.roleId,userIds:a}).then((e=>{d.success("操作成功"),V.JyElMessageBox.show=!1,V.searchSelected=[],M.value.reloadData()}))}else V.activeTab}));const G=(e,a)=>{const t=[];a.forEach((e=>{t.push(e.userId)})),B.batchDeleteRoleUser({roleId:j.value.roleId,userIds:t}).then((()=>{d.success("操作成功"),M.value.reloadData()}))},Q=e=>{"hostOrganId"===e.id&&(V.activeTab="organ",V.tabsShow=["organ"],H.value=!0)};return(e,a)=>{const o=u("el-breadcrumb-item"),r=u("el-breadcrumb"),s=u("el-button"),n=u("JyElMessageBox");return m(),g("div",k,[h(l,{url:"/role/user/page",ref_key:"table",ref:M,hasTree:!1,breadcrumb:!0,needAutoRequest:!0,componentsSearchForm:v(V).componentsSearchForm,componentsTableHeader:v(V).componentsTable.header,componentsBatch:v(V).componentsBatch,queryParams:j.value,tableClick:"",onCellClick:e.cellClick,onCustomClick:Y,onClickBatchButton:G,onClickElement:Q},{breadcrumb:b((()=>[y("div",E,[h(r,{separator:"/"},{default:b((()=>[h(o,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.65)"}},{default:b((()=>[I])),_:1}),h(o,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.25)"}},{default:b((()=>[J])),_:1})])),_:1})])])),title:b((()=>[y("div",T,[y("div",L,[y("div",O,[y("img",{class:"title-desc-img",src:t,alt:"",onClick:W}),P,y("span",_,"（"+p(N.value)+"）",1)])]),y("div",D,[y("div",z,[h(s,{type:"primary",onClick:$},{default:b((()=>[A])),_:1})]),U])])])),_:1},8,["componentsSearchForm","componentsTableHeader","componentsBatch","queryParams","onCellClick"]),H.value?(m(),f(v(w),{key:0,show:H.value,"onUpdate:show":a[0]||(a[0]=e=>H.value=e),searchSelected:v(V).searchSelected,"onUpdate:searchSelected":a[1]||(a[1]=e=>v(V).searchSelected=e),tabsShow:v(V).tabsShow,activeTab:v(V).activeTab},null,8,["show","searchSelected","tabsShow","activeTab"])):x("",!0),h(n,{modelValue:v(V).JyElMessageBox.show,"onUpdate:modelValue":a[3]||(a[3]=e=>v(V).JyElMessageBox.show=e),show:v(V).JyElMessageBox.show,defaultAttribute:{}},{header:b((()=>[y("div",q,[y("img",{src:v(V).JyElMessageBox.header.icon,alt:""},null,8,R),y("span",null,p(v(V).JyElMessageBox.header.data),1)])])),content:b((()=>[y("div",F,p(v(V).JyElMessageBox.content.data),1)])),footer:b((()=>[h(s,{type:"primary",onClick:Z},{default:b((()=>[S(p(e.$t("t-zgj-operation.submit")),1)])),_:1}),h(s,{onClick:a[2]||(a[2]=e=>v(V).JyElMessageBox.show=!1)},{default:b((()=>[S(p(e.$t("t-zgj-operation.cancel")),1)])),_:1})])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-d7ae183b"]]))}}}));

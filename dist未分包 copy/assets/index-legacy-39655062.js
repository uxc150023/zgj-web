System.register(["./back-legacy-f9b9cc9a.js","./Layout-legacy-b2631a91.js","./main-legacy-80c027be.js","./JyTable-legacy-cb6848b2.js","./documentsDetails-legacy-b3398eb5.js","./sealApplyIntellect-legacy-7594ff87.js","./listApprovingJson-legacy-f4da9ebd.js","./actionOneDialog-legacy-9f8718d5.js","./actionMoreDialog-legacy-30fae47d.js","./sangedian-legacy-5b82475d.js","./searchForm-legacy-661aae1d.js","./ketanchude-legacy-3429c6dd.js","./KDocumentTypeDialog-legacy-9730cc30.js","./pagination-legacy-abc2a695.js","./batch-legacy-5a4e36c5.js","./index-legacy-1964794f.js","./cha-kong-legacy-f9de9560.js","./JyTabs-legacy-3f34f463.js","./JyTabs.vue_vue_type_style_index_0_scoped_5e06bfe2_lang-legacy-bb1152fe.js","./table-legacy-3557b439.js","./documentsDetails.vue_vue_type_style_index_0_scoped_204b6fa9_lang-legacy-fafff2de.js","./portion-legacy-b0849eee.js","./portion.vue_vue_type_style_index_0_scoped_3abd16ad_lang-legacy-2c813e37.js","./yuan-hui-legacy-3805e29d.js"],(function(e,l){"use strict";var a,t,s,o,n,i,c,u,p,d,r,m,y,g,h,b,D,v,w,S;return{setters:[e=>{a=e._},e=>{t=e.c},e=>{s=e.v,o=e.I,n=e.h,i=e.r,c=e.o,u=e.c,p=e.a,d=e.w,r=e.m,m=e.u,y=e.g,g=e.cv},e=>{h=e.J},e=>{b=e.c},e=>{D=e.a},e=>{v=e.s},e=>{w=e.a},e=>{S=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l={class:"breadcrumb"},f=y(" 用印记录 "),j=y(" 查看已作废单据 "),x={class:"title"},A={class:"title-desc"},B=y(" 查看已作废单据 "),I=r("div",null,null,-1),_={class:"ap-box"},J={name:"VoidApply"};e("default",Object.assign(J,{setup(e){const y=s(null),J=o(),M=s(null),E=n({componentsTitle:{more:{data:[{name:"查看已作废的单据",codle:"1"}]}},componentsSearchForm:{data:v,butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:[{prop:"useSealFileName",label:"文件名称","min-width":150,fixed:"left",show:!0},{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"fileTypeName",label:"文件类型","min-width":150,show:!0},{prop:"sealName",label:"印章名称","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyStatus",label:"审批状态",align:"center",width:150,show:!0},{prop:"useSealStateName",label:"用印状态",align:"center",width:150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"caozuo",label:"操作",fixed:"right","min-width":150,show:!0,align:"center",rankDisplayData:[{name:"t-zgj-sealInfoDelete.restore"},{name:"t-zgj-File.Delete"}]}]},componentsDocumentsDetails:{show:!1,visible:[{label:"用印详情",name:"Details-of-Printing"},{label:"审批流程",name:"approval-process"},{label:"领用记录",name:"Record-of-requisition"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"t-zgj-seal.BatchDelete"}]},JyElMessageBox:{type:"",column:{},flag:"",show:!1,header:{data:""},content:{data:""}},computedData:[],showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}}});function N(e,l,a,t){"useSealFileName"===l.property&&(E.componentsDocumentsDetails.show=!0,D.sealBaseInfo({useSealApplyId:e.useSealApplyId}).then((e=>{const l=e.data,a=[{label:"文件名称",value:l.useSealFileName},{label:"单据编码",value:l.useSealApplyNo},{label:"文件类型",value:l.fileTypeName},{label:"文件份数",value:(l.useSealFileNum||0)+"份"},{label:"金额",value:l.totalMoney||"-"},{label:"申请事由",value:l.useSealInfo},{label:"盖章码",value:l.sealCode||"-"},{label:"申请人员",value:l.applyUserName},{label:"申请时间",value:l.applyDatetime},{label:"所属部门",value:l.applyOrganName},{label:"单据状态",value:"APPROVAL"===l.useSealStateId?"用印审批中":"USING"===l.useSealStateId?"智能用印中":"",iconPath:"yuanLv",iconStyle:{},valStyle:{color:"var(--jy-success-6)"}}];l.listSeal.length&&(1===l.listSeal.length?a.splice(a.length-5,0,{label:"印章名称",value:l.listSeal[0].useSealApplySealInfoDto.sealName},{label:"常规盖章",value:l.listSeal[0].useSealApplySealNumDto.applySealNum+"次"}):l.listSeal.forEach(((e,l)=>{a.splice(a.length-5,0,{label:`印章${l+1}名称`,value:e.useSealApplySealInfoDto.sealName},{label:"常规盖章",value:e.useSealApplySealNumDto.applySealNum+"次"})}))),E.componentsDocumentsDetails.visible[0].basicInformation={show:!0,data:a}})),D.intellect({useSealApplyId:e.useSealApplyId}).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.length?E.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!0,data:e.data}:E.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!1,data:[]}})),D.attachment({useSealApplyId:e.useSealApplyId}).then((e=>{var l,a;null!==(l=e.data.fileInfos)&&void 0!==l&&l.length||null!==(a=e.data.fileInfoAdds)&&void 0!==a&&a.length?E.componentsDocumentsDetails.visible[0].accessory={show:!0,printedData:e.data.fileInfos,additionalData:e.data.fileInfoAdds}:E.componentsDocumentsDetails.visible[0].accessory={show:!1,printedData:[],additionalData:[]}})))}function T(e,l,a,t){E.JyElMessageBox.type=a.name,E.JyElMessageBox.column=l,"t-zgj-sealInfoDelete.restore"===a.name&&(E.JyElMessageBox.header.data="提示？",E.JyElMessageBox.content.data="还原后本次申请送审将被还原，请问确定要还原吗？",E.JyElMessageBox.show=!0),"t-zgj-File.Delete"===a.name&&(E.JyElMessageBox.header.data="提示？",E.JyElMessageBox.content.data="删除会把申请单连同对应的附件均删除，删除后可释放存储空间，请问确定要删除么？",E.JyElMessageBox.show=!0)}function k(){E.componentsDocumentsDetails.show=!1}const F=()=>{"t-zgj-sealInfoDelete.restore"===E.JyElMessageBox.type?D.return({sealUseApplyIds:[E.JyElMessageBox.column.useSealApplyId]}).then((()=>{g("还原成功"),M.value.reloadData()})).finally((()=>{E.JyElMessageBox.show=!1})):"t-zgj-File.Delete"===E.JyElMessageBox.type&&D.delete({sealUseApplyIds:[E.JyElMessageBox.column.useSealApplyId]}).then((()=>{M.value.reloadData(),g("删除成功")})).finally((()=>{E.JyElMessageBox.show=!1}))};function C(e,l){E.componentsBatch.selectionData=l,y.value={header:{data:"批量删除"},content:{data:"删除会把申请单，连同对应的附件均删除，删除后可释放存储空间，请问确定批量删除么？"}},E.showToastDialog.show=!0}const U=()=>{const e=E.componentsBatch.selectionData,l=[];e.forEach((e=>{l.push(e.useSealApplyId)})),D.delete({sealUseApplyIds:l}).then((e=>{M.value.reloadData(),g("删除成功"),E.showToastDialog.show=!1}))};return(e,s)=>{const o=i("el-breadcrumb-item"),n=i("el-breadcrumb");return c(),u("div",null,[p(t,{Layout:"breadcrumb,title,custom,fixed,table"},{breadcrumb:d((()=>[r("div",l,[p(n,{separator:"/"},{default:d((()=>[p(o,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.65)"}},{default:d((()=>[f])),_:1}),p(o,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.25)"}},{default:d((()=>[j])),_:1})])),_:1})])])),title:d((()=>[r("div",x,[r("div",A,[r("img",{class:"title-desc-img",src:a,alt:"",onClick:s[0]||(s[0]=e=>m(J).go(-1))}),B]),I])])),table:d((()=>[p(h,{url:"/sealApply/listInvalid",ref_key:"jyTable",ref:M,hasTabs:"",componentsSearchForm:m(E).componentsSearchForm,componentsTableHeader:m(E).componentsTable.header,componentsBatch:m(E).componentsBatch,computedData:"listApproving"===e.currentActiveName?m(E).computedData:[],tableClick:"useSealFileName",onCellClick:N,onCustomClick:T,onClickBatchButton:C},null,8,["componentsSearchForm","componentsTableHeader","componentsBatch","computedData"])])),_:1}),r("div",_,[p(b,{show:m(E).componentsDocumentsDetails.show,visible:m(E).componentsDocumentsDetails.visible,onClickClose:k},null,8,["show","visible"])]),p(m(S),{"onUpdate:modelValue":s[1]||(s[1]=e=>m(E).showToastDialog.show=!1),show:m(E).showToastDialog.show,selectionData:m(E).componentsBatch.selectionData,showToastDialogContent:y.value,label:"useSealFileName",onSureAction:U},null,8,["show","selectionData","showToastDialogContent"]),p(w,{modelValue:m(E).JyElMessageBox.show,"onUpdate:modelValue":[s[2]||(s[2]=e=>m(E).JyElMessageBox.show=e),m(E).JyElMessageBox.show],JyElMessageBox:m(E).JyElMessageBox,onSubmitElMessageBox:F},null,8,["modelValue","JyElMessageBox","onUpdate:modelValue"])])}}}))}}}));

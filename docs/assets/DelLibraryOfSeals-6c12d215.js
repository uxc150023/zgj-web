import{r as e,b as a,a9 as t,a1 as s,C as l,F as o,G as n,B as r,N as i,H as c,S as d,T as u,I as m,J as p,u as h,K as y,P as b,U as g,Q as v,R as w,E as D,V as f,W as k}from"./chunk-element-plus-a77de3d2.js";import{_}from"./back-bdc75944.js";import{c as j}from"./documentsDetails-8b022303.js";import{J as S}from"./JyTable-d62bb35b.js";import{g as x,j as I,P as B,aa as T}from"./chunk-vform-d740b35c.js";import"./cha-kong-c10eac4e.js";import"./JyTabs-726242c5.js";/* empty css                                                               */import"./table-e0a114b8.js";import"./sangedian-6ea00dcf.js";/* empty css                                                                         */import"./portion-e63dfdb7.js";/* empty css                                                                */import"./yuan-hui-31c99901.js";import"./Layout-e90710df.js";import"./searchForm-96cc0cf8.js";import"./ketanchude-a94e84bc.js";import"./KDocumentTypeDialog-63de8919.js";import"./pagination-3c925a2b.js";import"./batch-6eb7c760.js";import"./index-d761d72f.js";const C=[{prop:"sealName",label:"印章名称",sortable:"custom","min-width":210,"show-overflow-tooltip":!0,show:!0},{prop:"sealTypeName",label:"印章类型",sortable:"custom","min-width":150,show:!0},{prop:"sealStateId",label:"印章状态",sortable:"custom","min-width":150,show:!0,customDisplayType:"custom"},{prop:"keepUserName",label:"保管人",sortable:"custom","min-width":150,show:!0},{prop:"keepOrganName",label:"保管部门",sortable:"custom","min-width":150,show:!0},{prop:"createDatetime",label:"创建时间",sortable:"custom","min-width":180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:100,show:!0,customDisplayType:"custom"}],J=e=>(f("data-v-f8a387cb"),e=e(),k(),e),z={class:"PrintControlManagement-LibraryOfSeals"},E={class:"breadcrumb"},M=w(" 印章库 "),$=w("已删除的印章 "),A=w(" 已删除的印章 "),N=J((()=>c("div",null,null,-1))),U={class:"flag-cell center"},V={class:"diot diot-0"},F={class:"diot diot-1"},P={key:0},R={key:1},G={key:2},H=["onClick"],K={key:0,class:"rankDisplayData-more"},L={class:"el-dropdown-link"},O=["src"],q={class:"ap-box"},W={class:"header-div"},Q=["src"],Y={class:"content-div"},Z=w(" 提交 "),X=w("取消"),ee={class:"header-div"},ae=["src"],te={class:"content-div"},se=x({setup(f){const k=I(),x=e(null),J=e(null),se=e(!1),le=e=>{e&&(oe.form[x.value+"Id"]=e[0].id,oe.form[x.value+"Name"]=e[0].name)},oe=a({downIcon:"@/assets/svg/sangedian.svg",downIconGray:"@/assets/svg/sangedian-gray.svg",butDatas:[],sealIds:"",msg:"",tabsShow:[],searchSelected:[],title:"新增",typeList:[],JyElMessageBox:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""},type:"删除"},showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}},componentsTabs:{data:[{label:"待签章",name:"1"},{label:"已签章",name:"2"},{label:"不可用",name:"3"}]},componentsSearchForm:{style:{lineStyle:{width:"calc(100% / 3)"},labelStyle:{width:"100px"}},data:[{id:"searchKey",label:"印章名称",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"请输入印章名称"}}],butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:C,data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"},"cell-style":({row:e,column:a,rowIndex:t,columnIndex:s})=>{if("sealName"===a.property||"caozuo"===a.property)return{color:"var(--jy-info-6)",cursor:"pointer"}}}},rankDisplayData:[{name:"t-zgj-sealInfoDelete.restore",label:"还原"}],componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,50,100],background:!0}},componentsDocumentsDetails:{show:!1,visible:[{label:"印章详情",name:"Particulars-of-Seal"},{label:"保管记录",name:"Record-of-custody"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"t-zgj-seal.BatchSetVisibility",label:"批量设置可见范围"},{name:"t-zgj-seal.BatchSetAvailable",label:"批量设置可用范围"},{name:"t-zgj-seal.BatchDelete",label:"批量删除"},{name:"t-zgj-view.SealUnbind",label:"印章解绑"}]}});function ne(e,a,t,s){"sealName"===a.property&&(oe.componentsDocumentsDetails.show=!0)}function re(){oe.componentsDocumentsDetails.show=!1}function ie(e,a,t,s){oe.sealIds=a.sealId,"2"!==a.sealStateId&&"t-zgj-sealInfoDelete.restore"===t.name&&(oe.JyElMessageBox.header.data="t-zgj-sealInfoDelete.restore",oe.JyElMessageBox.content.data="请问确定还原该印章吗？",oe.JyElMessageBox.show=!0,oe.JyElMessageBox.type="还原")}const ce=(e,a)=>{a.then((a=>{200===a.code?(D.success(`${e}成功！`),J.value.reloadData()):D.success(`${e}失败，请重试`)}))};function de(){k.go(-1)}return t((()=>{})),s((()=>{J.value.reloadData()})),(e,a)=>{const t=l("el-breadcrumb-item"),s=l("el-breadcrumb"),D=l("el-dropdown-item"),f=l("el-dropdown-menu"),k=l("el-dropdown"),x=l("el-button"),I=l("JyElMessageBox"),C=l("el-scrollbar");return o(),n("div",z,[r(S,{url:"/sealInfo/deleted/page",ref_key:"table",ref:J,breadcrumb:!0,needAutoRequest:!1,componentsSearchForm:h(oe).componentsSearchForm,componentsTableHeader:h(oe).componentsTable.header,onCellClick:ne,onCustomClick:ie,onClickBatchButton:e.clickBatchButton},{breadcrumb:i((()=>[c("div",E,[r(s,{separator:"/"},{default:i((()=>[r(t,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.65)"}},{default:i((()=>[M])),_:1}),r(t,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.25)"}},{default:i((()=>[$])),_:1})])),_:1})])])),title:i((()=>[c("div",{class:"title"},[c("div",{class:"title-desc"},[c("img",{style:{cursor:"pointer"},class:"title-desc-img",src:_,alt:"",onClick:de}),A]),N])])),custom_sealStateId:i((a=>[c("div",U,[d(c("div",V,null,512),[[u,"0"===a.value.sealStateId]]),d(c("div",F,null,512),[[u,"1"===a.value.sealStateId||"2"===a.value.sealStateId]]),"0"===a.value.sealStateId?(o(),n("span",P,m(e.$t("t-zgj-seal.normal")),1)):"1"===a.value.sealStateId?(o(),n("span",R,m(e.$t("t-zgj-seal.deactivated")),1)):"2"===a.value.sealStateId?(o(),n("span",G,m(e.$t("t-zgj-seal.destroyed")),1)):p("",!0)])])),custom_caozuo:i((a=>[h(oe).rankDisplayData&&h(oe).rankDisplayData.length>0?(o(),n("div",{key:0,class:y(["rankDisplayData",{"rankDisplayData-add":"2"===a.value.sealStateId}])},[(o(!0),n(b,null,g(h(oe).rankDisplayData.slice(0,4),((t,s)=>(o(),n("div",{class:"rankDisplayData-node",key:s,onClick:e=>ie(0,a.value,t)},[c("span",null,m("status"===t.name?"1"===a.value.sealStateId?e.$t("t-zgj-Enable"):e.$t("t-zgj-seal.deactivated"):e.$t(t.name)),1)],8,H)))),128)),h(oe).rankDisplayData.length>4?(o(),n("div",K,[r(k,null,{dropdown:i((()=>[r(f,null,{default:i((()=>[(o(!0),n(b,null,g(h(oe).rankDisplayData.slice(4),((t,s)=>(o(),v(D,{class:y({"el-dropdown-item-add":"2"===a.value.sealStateId}),key:s,onClick:e=>ie(0,a.value,t)},{default:i((()=>[w(m("status"===t.name?"1"===a.value.sealStateId?e.$t("t-zgj-Enable"):e.$t("t-zgj-seal.deactivated"):e.$t(t.name)),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),default:i((()=>[c("span",L,[c("img",{class:"rankDisplayData-node",src:"2"===a.value.sealStateId?h(oe).downIconGray:h(oe).downIcon,alt:""},null,8,O)])])),_:2},1024)])):p("",!0)],2)):p("",!0)])),_:1},8,["componentsSearchForm","componentsTableHeader","onClickBatchButton"]),c("div",q,[r(h(j),{show:h(oe).componentsDocumentsDetails.show,visible:h(oe).componentsDocumentsDetails.visible,onClickClose:re},null,8,["show","visible"])]),se.value?(o(),v(h(B),{key:0,show:se.value,"onUpdate:show":a[0]||(a[0]=e=>se.value=e),tabsShow:h(oe).tabsShow,"onUpdate:searchSelected":le,searchSelected:h(oe).searchSelected},null,8,["show","tabsShow","searchSelected"])):p("",!0),r(I,{modelValue:h(oe).JyElMessageBox.show,"onUpdate:modelValue":a[3]||(a[3]=e=>h(oe).JyElMessageBox.show=e),show:h(oe).JyElMessageBox.show,defaultAttribute:{}},{header:i((()=>[c("div",W,[c("img",{src:h(oe).JyElMessageBox.header.icon,alt:""},null,8,Q),c("span",null,m(e.$t(h(oe).JyElMessageBox.header.data)),1)])])),content:i((()=>[c("div",Y,m(h(oe).JyElMessageBox.content.data),1)])),footer:i((()=>[r(x,{type:"primary",onClick:a[1]||(a[1]=e=>{return a=h(oe).JyElMessageBox.type,oe.JyElMessageBox.show=!1,void("还原"===a&&ce(a,T.sealRollback(oe.sealIds)));var a})},{default:i((()=>[Z])),_:1}),r(x,{onClick:a[2]||(a[2]=e=>h(oe).JyElMessageBox.show=!1)},{default:i((()=>[X])),_:1})])),_:1},8,["modelValue","show"]),r(I,{modelValue:h(oe).showToastDialog.show,"onUpdate:modelValue":a[4]||(a[4]=e=>h(oe).showToastDialog.show=e),show:h(oe).showToastDialog.show,defaultAttribute:{}},{header:i((()=>[c("div",ee,[c("img",{src:h(oe).showToastDialog.header.icon,alt:""},null,8,ae),c("span",null,m(h(oe).showToastDialog.header.data),1)])])),content:i((()=>[c("div",te,m(h(oe).showToastDialog.content.data),1),r(C,{class:"scrollbar","max-height":"200px"},{default:i((()=>[(o(!0),n(b,null,g(h(oe).componentsBatch.selectionData,(e=>(o(),n("p",{key:e,class:"scrollbar-demo-item"},m(e.sealName),1)))),128))])),_:1})])),footer:i((()=>[(o(!0),n(b,null,g(h(oe).butDatas,(e=>(o(),v(x,{key:e.name,type:e.type,onClick:e.clickName},{default:i((()=>[w(m(e.name),1)])),_:2},1032,["type","onClick"])))),128))])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-f8a387cb"]]);export{se as default};

System.register(["./main-legacy-32c40b54.js","./gengduo-caozuo-legacy-e441bcd3.js","./JyTable-legacy-caaa7541.js","./JyTabs-legacy-8a957fc8.js","./documentsDetails-legacy-3fae362e.js","./portion-legacy-5cbc7054.js","./sangedian-legacy-75d81ddc.js","./Layout-legacy-8a369202.js","./searchForm-legacy-6cef90ab.js","./ketanchude-legacy-4abaf206.js","./KDocumentTypeDialog-legacy-531ebfaa.js","./pagination-legacy-fb6b924b.js","./batch-legacy-3a06fca6.js","./index-legacy-301598c8.js","./JyTabs.vue_vue_type_style_index_0_scoped_5e06bfe2_lang-legacy-bb1152fe.js","./cha-kong-legacy-1ebc7b7b.js","./table-legacy-a68dd9a3.js","./documentsDetails.vue_vue_type_style_index_0_scoped_204b6fa9_lang-legacy-1381b1de.js","./yuan-hui-legacy-0c1e3d03.js","./portion.vue_vue_type_style_index_0_scoped_3abd16ad_lang-legacy-c3216d6b.js"],(function(e,a){"use strict";var l,t,i,o,n,r,d,s,c,p,m,h,u,v,f,y,b,g,w,A,F,x,k,T,S,D,_,N,C,j,I,z,U,B=document.createElement("style");return B.textContent=".PrintControlManagement-Archive[data-v-812c00ea]{margin:0%}.PrintControlManagement-Archive .title[data-v-812c00ea]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-Archive .title .title-more[data-v-812c00ea]{height:100%;display:flex;align-items:center}.PrintControlManagement-Archive .title .title-more .title-more-add[data-v-812c00ea]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-Archive .title .title-more .title-more-down[data-v-812c00ea]{height:100%;display:flex;align-items:center}.base[data-v-812c00ea]{display:flex}.base>div[data-v-812c00ea]{width:40%;margin:20px 0}.base>div>span[data-v-812c00ea]{margin-right:16px}.content-wrap[data-v-812c00ea]{display:flex;margin-bottom:16px}.content-wrap>span[data-v-812c00ea]{margin-right:16px}.content-wrap>div[data-v-812c00ea]{width:90%;overflow:hidden}.content-wrap>div .files-item[data-v-812c00ea]{border:.5px solid #d2d2d2;border-radius:2px;margin-bottom:16px}.content-wrap>div .files-item>div[data-v-812c00ea]{width:100%;height:40px;display:flex;align-items:center;padding-left:16px}.content-wrap>div .files-item>div[data-v-812c00ea]:nth-child(2){height:50px;border-top:1px solid #ccc;align-items:center;margin:0}.content-wrap>div .files-item .add-file[data-v-812c00ea]{justify-content:center;color:#1985f5;cursor:pointer}.content-wrap>div .files-item .add-file .upload-demo[data-v-812c00ea]{display:flex;align-items:center}.content-wrap>div .files-item .add-file .upload-demo svg[data-v-812c00ea]{margin-right:10px}.content-wrap>div .files-item .view-file[data-v-812c00ea]{color:#666;margin-left:5px}.content-wrap>div .files-item .view-file .upload-file>div[data-v-812c00ea]{display:flex;align-items:center}.content-wrap>div .files-item .view-file .upload-file>div>img[data-v-812c00ea]{margin-right:10px}.content-wrap>div .files-item .view-file .upload-file>div>svg[data-v-812c00ea]{width:14px;margin-right:10px}.content-wrap>div .files-item .view-file .archive-status-item[data-v-812c00ea]{margin-left:20px}.content-wrap>div .files-item .view-file .archive-status-item svg[data-v-812c00ea]{width:12px;height:12px;margin-right:5px}.content-wrap>div .files-item .special[data-v-812c00ea]{display:flex;justify-content:space-between}.files-add svg[data-v-812c00ea]{width:20px;height:20px;margin-right:5px}.upload-archives-element[data-v-812c00ea]{border:1px solid #ccc;border-radius:2px}.upload-archives-element .upload-demo[data-v-812c00ea]{padding:5px 12px}.upload-archives-element .upload-files-list[data-v-812c00ea]{border-top:1px solid #ccc;padding-left:12px;min-height:50px;max-height:200px;overflow:auto}.upload-archives-element .upload-files-list .upload-file-item[data-v-812c00ea]{display:flex;padding:10px 0;color:#666}.upload-archives-element .upload-files-list .upload-file-item>div[data-v-812c00ea]{margin-right:20px}.upload-archives-element .upload-files-list .upload-file-item>.file-btn[data-v-812c00ea]{cursor:pointer}.upload-archives-element .upload-files-list .upload-file-item .file-name[data-v-812c00ea]{max-width:50%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.upload-archives-element .upload-files-list .upload-file-item .file-status[data-v-812c00ea]{color:#5fb878}.upload-archives-element .upload-files-list .upload-file-item .file-view[data-v-812c00ea]{color:#d8a650}.upload-archives-element .upload-files-list .upload-file-item .file-down[data-v-812c00ea]{color:#6d9ef6}.upload-archives-element .upload-files-list .upload-file-item .file-delete[data-v-812c00ea]{color:#ef1e1e}[data-v-812c00ea] .el-form--inline{display:flex;justify-content:space-between}[data-v-812c00ea] .el-form--inline .el-form-item{width:calc(50% - 5px);margin-right:5px}[data-v-812c00ea] .el-form-item{width:calc(100% - 5px)}\n",document.head.appendChild(B),{setters:[e=>{l=e.a7,t=e._,i=e.I,o=e.v,n=e.h,r=e.j,d=e.k,s=e.r,c=e.o,p=e.c,m=e.a,h=e.w,u=e.m,v=e.u,f=e.F,y=e.e,b=e.f,g=e.g,w=e.t,A=e.l,F=e.ab,x=e.p,k=e.b3,T=e.K,S=e.cv,D=e.M,_=e.y,N=e.z},e=>{C=e._},e=>{j=e.J},e=>{I=e.c},e=>{z=e.c},e=>{U=e.d},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",align:"center",width:150,show:!0,rankDisplayData:[{name:"文件归档"}]}],B=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:150,align:"center",show:!0,rankDisplayData:[{name:"文件归档"}]}],M=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"download",label:"文件下载",fixed:"right",align:"center","min-width":200,show:!0,rankDisplayData:[{name:"用印前"},{name:"用印中"},{name:"用印后"}]},{prop:"caozuo",label:"操作",fixed:"right","min-width":150,align:"center",show:!0,rankDisplayData:[{name:"补传"},{name:"申请重置"}]}],O=[{id:"searchKey",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"applyDate",label:"申请时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeIds",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!0,placeholder:"+申请人",joinStr:","},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganIds",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!0,placeholder:"+申请部门",joinStr:","},options:[],values:null},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"useSealStatus",label:"用印状态",type:"checkButton",data:[{id:"1",name:"正常"},{id:"2",name:"异常"}]},{id:"onlyMyself",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],P=[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"picker",label:"申请时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"derivable",label:"文件类型",type:"derivable",defaultAttribute:{placeholder:"+文件类型"}},{id:"derivable",label:"申请人",type:"derivable",defaultAttribute:{placeholder:"+申请人"}},{id:"derivable",label:"申请部门",type:"derivable",defaultAttribute:{placeholder:"+申请部门"}},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"wdyy",label:"用印状态",type:"checkButton",data:[{name:"正常"},{name:"异常"}]},{id:"wdyy",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],V=[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"picker",label:"申请时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"derivable",label:"文件类型",type:"derivable",defaultAttribute:{placeholder:"+文件类型"}},{id:"derivable",label:"申请人",type:"derivable",defaultAttribute:{placeholder:"+申请人"}},{id:"derivable",label:"申请部门",type:"derivable",defaultAttribute:{placeholder:"+申请部门"}},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"wdyy",label:"用印状态",type:"checkButton",data:[{name:"正常"},{name:"异常"}]},{id:"wdyy",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],Y={archiveInfo:e=>l({method:"GET",url:"/archive/info/"+e}),archiveFileFinish:e=>l({method:"POST",url:"/archive/file/finish",data:e}),archiveDelete:e=>l({method:"POST",url:"/archive/file/delete",params:e}),archiveFinish:e=>l({method:"POST",url:"/archive/finish",data:e}),archiveRestApply:e=>l({method:"POST",url:"/archive/reset/apply",params:e}),archiveRestCancel:e=>l({method:"POST",url:"/archive/reset/cancel",params:e}),archiveDownloadPack:e=>l({method:"get",url:"/archive/download/pack",params:e}),archiveDownloadPage:e=>l({method:"GET",url:"/archive/download/page",params:e}),archiveDownloadDelete:e=>l({method:"GET",url:"/archive/download/delete",params:e})},H=e=>(_("data-v-812c00ea"),e=e(),N(),e),Z={class:"PrintControlManagement-Archive"},q={class:"title"},R=H((()=>u("div",null,"文件归档",-1))),$={class:"title-more"},E=H((()=>u("div",{class:"title-more-add"},null,-1))),J={key:0,class:"title-more-down"},K=H((()=>u("img",{class:"button-icon",src:C,alt:"",srcset:""},null,-1))),G=H((()=>u("span",null,"更多操作",-1))),L={class:"ap-box"},Q=H((()=>u("div",{class:"ap-cont-box-title-label"},"基本信息",-1))),W={class:"from-wrap"},X=H((()=>u("div",{class:"ap-cont-box-title-label"},"文件归档",-1))),ee={key:0,class:"files-wrap content-wrap"},ae=H((()=>u("span",null,"文件归档",-1))),le={class:"files-list"},te={key:0,class:"add-file"},ie=H((()=>u("svg",{preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"",viewBox:"0 0 16 16"},[u("g",null,[u("g",{"fill-rule":"nonzero",fill:"#1985F5","data-follow-fill":"#1985F5"},[u("path",{d:"M6.155 3.84h3.2v6.368h-3.2z"}),u("path",{d:"M6.155 3.84h3.2v6.368h-3.2z"}),u("path",{d:"m3.19 5.003 1.29-1.408L7.061.757 7.755 0l.693.757 2.581 2.838 1.291 1.408H3.19ZM8.32 9.77l-.395.437h-.341l-.395-.437H8.32Z"}),u("path",{d:"M6.155 9.6v.608h3.2V9.6h-3.2Zm4.266 0v1.707H5.088V9.6H0V16h16V9.6h-5.579Zm1.312 5.184H9.6v-2.133h2.133v2.133Zm3.2 0H12.8v-2.133h2.133v2.133Z"})])])],-1))),oe=g(" 请添加归档文件 "),ne={class:"upload-file"},re={key:0},de=H((()=>u("img",{src:"/zgj-web/assets/icon-pdf-2f424dcd.svg"},null,-1))),se={key:1},ce=H((()=>u("svg",{class:"iconpark-icon"},[u("use",{href:"#folder"})],-1))),pe={class:"archive-status"},me={key:0,class:"archive-status-item"},he=[H((()=>u("svg",{class:"iconpark-icon"},[u("use",{href:"#finished"})],-1))),g(" 完成归档 ")],ue={key:1,class:"archive-status-item"},ve=g("完成归档"),fe={key:1},ye=[H((()=>u("svg",{class:"iconpark-icon"},[u("use",{href:"#waiting-arvhices"})],-1))),H((()=>u("span",null,"归档中（其他终端）",-1)))],be={class:"files-add content-wrap"},ge=H((()=>u("span",null,"补充附件",-1))),we={class:"upload-archives-element"},Ae=H((()=>u("svg",{class:"iconpark-icon"},[u("use",{href:"#upload-file"})],-1))),Fe=g(" 添加附件 "),xe={class:"upload-files-list"},ke=["title"],Te={class:"file-size"},Se=H((()=>u("div",{class:"file-status file-btn"},"已上传",-1))),De=H((()=>u("div",{class:"file-view file-btn"},"预览",-1))),_e=H((()=>u("div",{class:"file-down file-btn"},"下载",-1))),Ne=H((()=>u("div",{class:"file-delete file-btn"},"删除",-1)));e("default",t({setup(e){const l=i(),t=o(!1),_=o("shallArchive"),N=o(null),C=o(null),H=o({shallArchive:a,archiving:B,archived:M}),Ce=o({shallArchiveSearchForm:O,archivingSearchForm:P,archivedSearchForm:V}),je=n({show:!1,title:"文件归档"}),Ie=n({cache:{},componentsTitle:{more:{data:[]}},componentsTabs:{data:[{label:"待归档",name:"shallArchive"},{label:"归档中",name:"archiving"},{label:"已归档",name:"archived"}]},componentsSearchForm:{data:Ce.value.shallArchiveSearchForm,butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"t-zgj-query",label:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"t-zgj-reset",label:"重置",type:"click",defaultAttribute:{plain:!0},style:{}}]},componentsTable:{header:H.value.shallArchive},componentsDocumentsDetails:{show:!1,visible:[{label:"用印详情",name:"Details-of-Printing"},{label:"审批流程",name:"approval-process"},{label:"领用记录",name:"Record-of-requisition"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[]},componentsArchiveForm:{useSealApplyId:"",fileTypeId:"",applyCode:"",applyName:"",archiveNo:"",readme:"",files:[],supplemenFiles:[]}});function ze(e,a,l,t){"useSealFileName"===a.property&&(Ie.componentsDocumentsDetails.show=!0)}function Ue(){Ie.componentsDocumentsDetails.show=!1}function Be(e){_.value=e,Ie.componentsTable.header=H.value[e],"shallArchive"===e||"archiving"===e?Ie.componentsTitle.more.data=[]:"archived"===e&&(Ie.componentsTitle.more.data=[{name:"文件打包下载"},{name:"下载记录"}]),N.value.clickSubmit()}const Me=(e,a,t,i)=>{"文件归档"===t.name&&(je.show=!0,Y.archiveInfo(a.useSealApplyId).then((e=>{const a=e.data;Ie.componentsArchiveForm.useSealApplyId=a.useSealApplyId,Ie.componentsArchiveForm.fileTypeId=a.fileTypeId,Ie.componentsArchiveForm.applyCode=a.useSealApplyNo,Ie.componentsArchiveForm.applyName=a.useSealFileName,Ie.componentsArchiveForm.files=[],Ie.componentsArchiveForm.supplemenFiles=a.archiveAddFile,a.useSealFile.forEach((e=>{var a;Ie.componentsArchiveForm.files.push({fileOriginName:e.fileOriginName,bizFileId:e.bizFileId,fileSize:(e.fileSizeByte/1024).toFixed(2)+"KB",type:e.archiveFile?2:-1,archiveAttachmentFileName:null===(a=e.archiveFile)||void 0===a?void 0:a.fileOriginName,isArchived:!!e.archiveFile})})),C.value={useSealApplyId:a.useSealApplyId,useSealFileTypeId:a.fileTypeId,joinBizFileId:"",fileSourceType:"1"}}))),"补传"===t.name&&(je.show=!0,Ie.ArchiveFiles=[]),"申请重置"===t.name&&l.push({name:"ArchiveReset"})};function Oe(e){const a=Ie.componentsArchiveForm.files.findIndex((a=>a.bizFileId===e.data.joinBizFileId));a>-1&&(Ie.componentsArchiveForm.files[a].type=2,Ie.componentsArchiveForm.files[a].archiveAttachmentFileName=e.data.fileOriginName,Ie.componentsArchiveForm.files[a].isArchived=!1,Ie.componentsArchiveForm.files[a].fileSourceType=e.data.fileSourceType,Ie.componentsArchiveForm.files[a].bizFileId=e.data.bizFileId)}function Pe(e){e.data.fileUrl=e.data.fileUrl?F+e.data.fileUrl:"",Ie.componentsArchiveForm.supplemenFiles.push(e.data)}function Ve(){const e=Ie.componentsArchiveForm.files.filter((e=>e.isArchived)).length;e&&e===Ie.componentsArchiveForm.files.length?Y.archiveFinish({useSealApplyId:Ie.componentsArchiveForm.useSealApplyId,archiveNo:Ie.componentsArchiveForm.archiveNo,readme:Ie.componentsArchiveForm.readme}).then((()=>{je.show=!1,S("归档成功"),N.value.reloadData()})):T("请先完成文件归档")}function Ye(){Ie.componentsArchiveForm.archiveNo="",Ie.componentsArchiveForm.readme=""}return r((()=>{})),d((()=>{})),(e,a)=>{const l=s("el-button"),i=s("el-dropdown-item"),o=s("el-dropdown-menu"),n=s("el-dropdown"),r=s("el-input"),d=s("el-form-item"),T=s("el-col"),S=s("el-row"),B=s("el-form"),M=s("el-upload"),O=D;return c(),p("div",Z,[m(j,{url:`/archive/page/${_.value}`,ref_key:"jyTable",ref:N,hasTabs:"",componentsSearchForm:v(Ie).componentsSearchForm,componentsTableHeader:v(Ie).componentsTable.header,componentsBatch:v(Ie).componentsBatch,tableClick:"useSealFileName",onCellClick:ze,onCustomClick:Me,onClickBatchButton:e.clickBatchButton},{title:h((()=>[u("div",q,[R,u("div",$,[E,v(Ie).componentsTitle.more.data.length>0?(c(),p("div",J,[m(n,null,{dropdown:h((()=>[m(o,null,{default:h((()=>[(c(!0),p(f,null,y(v(Ie).componentsTitle.more.data,((a,l)=>(c(),b(i,{key:l,onClick:l=>e.moreClick(a)},{default:h((()=>[g(w(a.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:h((()=>[m(l,null,{default:h((()=>[K,G])),_:1})])),_:1})])):A("",!0)])])])),tabs:h((()=>[u("div",null,[m(I,{activeName:_.value,data:v(Ie).componentsTabs.data,onTabChange:Be},null,8,["activeName","data"])])])),_:1},8,["url","componentsSearchForm","componentsTableHeader","componentsBatch","onClickBatchButton"]),u("div",L,[m(z,{show:v(Ie).componentsDocumentsDetails.show,visible:v(Ie).componentsDocumentsDetails.visible,onClickClose:Ue},null,8,["show","visible"])]),m(O,{"onUpdate:show":a[4]||(a[4]=e=>v(je).show=e),show:v(je).show,title:"文件归档",centerBtn:"",draggable:!0,confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),onClose:Ye,onConfirm:Ve},{default:h((()=>[m(U,null,{title:h((()=>[Q])),content:h((()=>[u("div",W,[m(B,{"label-width":"70px","label-position":"left"},{default:h((()=>[m(S,{gutter:15},{default:h((()=>[m(T,{span:12},{default:h((()=>[m(d,{label:"单据编号",prop:"applyCode"},{default:h((()=>[m(r,{modelValue:v(Ie).componentsArchiveForm.applyCode,"onUpdate:modelValue":a[0]||(a[0]=e=>v(Ie).componentsArchiveForm.applyCode=e),disabled:"",type:"text",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),m(T,{span:12},{default:h((()=>[m(d,{label:"单据名称",prop:"applyName"},{default:h((()=>[m(r,{modelValue:v(Ie).componentsArchiveForm.applyName,"onUpdate:modelValue":a[1]||(a[1]=e=>v(Ie).componentsArchiveForm.applyName=e),disabled:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),m(T,{span:24},{default:h((()=>[m(d,{label:"档案字号",prop:"archiveNo"},{default:h((()=>[m(r,{modelValue:v(Ie).componentsArchiveForm.archiveNo,"onUpdate:modelValue":a[2]||(a[2]=e=>v(Ie).componentsArchiveForm.archiveNo=e),placeholder:"请输入",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),m(T,{span:24},{default:h((()=>[m(d,{label:"归档备注",prop:"readme"},{default:h((()=>[m(r,{modelValue:v(Ie).componentsArchiveForm.readme,"onUpdate:modelValue":a[3]||(a[3]=e=>v(Ie).componentsArchiveForm.readme=e),type:"textarea",placeholder:"请输入",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),m(U,null,{title:h((()=>[X])),content:h((()=>[v(Ie).componentsArchiveForm.files.length>0?(c(),p("div",ee,[ae,u("div",le,[(c(!0),p(f,null,y(v(Ie).componentsArchiveForm.files,((e,a)=>(c(),p("div",{class:"files-item",key:a},[u("div",null,w(e.fileOriginName),1),e.type<2?(c(),p("div",te,[m(M,{ref_for:!0,ref:"upload",class:"upload-demo",action:`${v(F)}/archive/file/upload`,limit:1,data:{useSealApplyId:v(Ie).componentsArchiveForm.useSealApplyId,useSealFileTypeId:v(Ie).componentsArchiveForm.fileTypeId,joinBizFileId:e.bizFileId,fileSourceType:"1"},"on-success":Oe,"show-file-list":!1},{trigger:h((()=>[ie,oe])),_:2},1032,["action","data"])])):A("",!0),2==e.type?(c(),p("div",{key:1,class:x(["view-file",{special:"1"===e.fileSourceType}])},[u("div",ne,[e.isArchived?(c(),p("div",re,[de,g(w(e.archiveAttachmentFileName)+"（"+w(e.fileSize)+"） ",1)])):(c(),p("div",se,[ce,g(" "+w(e.archiveAttachmentFileName),1)]))]),u("div",pe,[e.isArchived?(c(),p("div",me,he)):(c(),p("div",ue,["1"===e.fileSourceType?(c(),b(l,{key:0,style:{"margin-right":"20px"},type:"primary",onClick:e=>function(e){Y.archiveFileFinish({bizFileId:Ie.componentsArchiveForm.files[e].bizFileId}).then((()=>{Ie.componentsArchiveForm.files[e].isArchived=!0,Ie.componentsArchiveForm.files[e].fileSourceType=null,N.value.reloadData()}))}(a)},{default:h((()=>[ve])),_:2},1032,["onClick"])):(c(),p("div",fe,ye))]))])],2)):A("",!0)])))),128))])])):A("",!0),u("div",be,[ge,u("div",we,[m(M,{ref:"upload",class:"upload-demo",action:`${v(F)}/archive/file/upload/add`,limit:1,data:C.value,"show-file-list":!1,"on-success":Pe},{trigger:h((()=>[Ae,Fe])),_:1},8,["action","data"]),u("div",xe,[(c(!0),p(f,null,y(v(Ie).componentsArchiveForm.supplemenFiles,((e,a)=>(c(),p("div",{class:"upload-file-item",key:a},[u("div",{class:"file-name",title:e.fileOriginName},w(e.fileOriginName),9,ke),u("div",Te,w((e.fileSizeByte/1024).toFixed(2)+"KB"),1),Se,De,_e,Ne])))),128))])])])])),_:1})])),_:1},8,["show","confirmText","concelText"]),t.value?(c(),b(v(k),{key:0,show:t.value,"onUpdate:show":a[5]||(a[5]=e=>t.value=e)},null,8,["show"])):A("",!0)])}}},[["__scopeId","data-v-812c00ea"]]))}}}));

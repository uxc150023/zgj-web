import{v as e,h as a,H as l,s as t,i as s,j as o,r as c,o as u,c as n,m as d,a as i,w as b,F as p,e as r,n as y,u as m,l as v,g as f,t as h,q as x,$ as k,f as V,p as g,b as U,b2 as w,b6 as A,b3 as D,a7 as S,b7 as C,b8 as B}from"./main-35f8b412.js";import{_ as j}from"./ketanchude-a94e84bc.js";import{K as I}from"./KDocumentTypeDialog-fc5a935b.js";const N="/zgj-web/assets/anniu-xuanzhong-adff5261.svg",O={class:"components-searchForm"},q={class:"fromData"},z={key:0,class:"ap-box-cont input"},_={key:0,class:"ap-box-label-necessary"},$={class:"ap-box-contBox"},L={key:1,class:"ap-box-cont derivable"},T={key:0,class:"ap-box-label-necessary"},K={class:"ap-box-contBox width-0"},E=["onClick"],F=[d("img",{class:"ap-box-contBox-icon-img",src:j,alt:""},null,-1)],R={key:2,class:"ap-box-cont derivable"},H={key:0,class:"ap-box-label-necessary"},J={class:"ap-box-contBox width-0"},P=d("div",{class:"ap-box-contBox-icon"},[d("img",{class:"ap-box-contBox-icon-img",src:j,alt:""})],-1),G={key:3,class:"ap-box-cont select"},W={key:0,class:"ap-box-label-necessary"},Z={class:"ap-box-contBox"},M={key:4,class:"ap-box-cont picker"},Q={key:0,class:"ap-box-label-necessary"},X={class:"ap-box-contBox width-0"},Y={key:5,class:"ap-box-cont checkbox"},ee={key:0,class:"ap-box-label-necessary"},ae={key:6,class:"ap-box-cont radio"},le={class:"ap-box-autoBox"},te={key:7,class:"ap-box-cont cascader"},se={key:0,class:"ap-box-label-necessary"},oe={class:"ap-box-contBox"},ce={key:8,class:"ap-box-cont switch"},ue={key:0,class:"ap-box-label-necessary"},ne={class:"ap-box-contBox"},de={key:9,class:"ap-box-cont radioButton"},ie={key:0,class:"ap-box-label-necessary"},be={class:"ap-box-contBox"},pe=["onClick"],re=d("img",{class:"custom-button-checkIcon",src:N,alt:""},null,-1),ye={key:10,class:"ap-box-cont checkButton"},me={key:0,class:"ap-box-label-necessary"},ve={class:"ap-box-contBox"},fe=["onClick"],he=d("img",{class:"custom-button-checkIcon",src:N,alt:""},null,-1),xe={key:11,class:"ap-box-cont scopeInput"},ke={key:0,class:"ap-box-label-necessary"},Ve={class:"ap-box-contBox"},ge={class:"ap-box-contBox-start"},Ue=d("div",{class:"ap-box-contBox-cut"}," - ",-1),we={class:"ap-box-contBox-end"},Ae={key:12,class:"ap-box-cont custom"},De={key:0,class:"ap-box-label-necessary"},Se=["onClick"],Ce={key:0,class:"unfold-"},Be=d("img",{class:"unfold-icon",src:"/zgj-web/assets/xiangxia-lan-b1289975.svg",alt:"",srcset:""},null,-1),je={key:1},Ie=d("img",{class:"unfold-icon",src:"/zgj-web/assets/xiangshang-lan-49ab5dfe.svg",alt:"",srcset:""},null,-1),Ne=["onClick"],Oe={props:{refs:{type:String,default:""},type:{type:String,default:"0"},data:{type:Array,default:()=>[]},butData:{type:Array,default:()=>[]},style:{type:Object,default:()=>({lineStyle:{width:"calc(100% / 3)"},cutOffRuleStyle:{width:"100%"},labelStyle:{width:"100px"},butLayoutStyle:{width:"100%","justify-content":"center"}})},defaultAttribute:{type:Object,default:()=>({isUnfold:!1,"scrollbar-max-height":"auto","border-bottom":!0})}},emits:["clickSubmit","reloadData"],setup(j,{expose:N,emit:Oe}){const qe=j,ze=e(!1),_e=e(!1),$e=e([]),Le=e([]),Te=e([]),Ke=e(null),Ee=e(null),Fe=e(!1),Re=e(!1),He=e(null),Je=e(null),Pe=e(null),Ge=e(null),We=a({props:{defaultAttribute:{isUnfold:!1,"scrollbar-max-height":"auto","border-bottom":!0}},cache:{cutOffRuleStyle:{width:"100%"},isUnfold:0,formData:[],showUnfold:!1}}),Ze=l("accountInfo")&&l("accountInfo").userInfo?l("accountInfo").userInfo.userId:"",Me=e({userId:Ze}),Qe=t((()=>(e,a)=>{const l=["custom","checkbox","radio","switch","radioButton","checkButton"],t=[];return l.indexOf(e.type)>-1&&a<We.cache.formData.length-1?{width:"100%"}:l.indexOf(e.type)>-1&&a===We.cache.formData.length-1?{width:"auto","min-width":"calc(100% / 3 * 2 + 100px)"}:t.indexOf(e.type)>-1&&a<We.cache.formData.length-1||t.indexOf(e.type)>-1&&a===We.cache.formData.length-1?{width:"auto"}:{}}));function Xe(){if(qe.defaultAttribute)for(const e in qe.defaultAttribute)We.props.defaultAttribute[e]=qe.defaultAttribute[e];ea()}const Ye=t({get:()=>qe.data});function ea(a,l){const t=a||Ye.value;let s=!1;qe.defaultAttribute.isUnfold&&(We.cache.isUnfold=qe.defaultAttribute.isUnfold),t.forEach((a=>{if(a.inCommonUse||(s=!0),a.requestObj){"GET"===a.requestObj.method?a.requestObj.params=l:a.requestObj.data=l;const t=e(!1);"flow"!==a.requestObj.type||l||(t.value=!0),!t.value&&S(a.requestObj).then((e=>{a.options=e.data}))}})),We.cache.showUnfold=s,aa(t)}function aa(e){const a=e||Ye.value;let l=[];0===We.cache.isUnfold?a.map((e=>(e.inCommonUse&&l.push(e),e))):1===We.cache.isUnfold&&(l=a),We.cache.formData=l}function la(){Oe("reloadData")}s((()=>qe.data),(()=>{We.cache.isUnfold=0,Xe()}));const ta={},sa=e(!0),oa=e(!0);const ca=e=>{const a=We.cache.formData.findIndex((e=>e.id===Ee.value));a>-1&&(We.cache.formData[a].defaultAttribute.multiple?We.cache.formData[a].values=e.map((e=>e.id)):We.cache.formData[a].values=e[0].id,We.cache.formData[a].options=e.map((e=>({label:e.name,value:e.id}))))};function ua(e,a){Oe("clickSubmit",e,a)}function na(){0===We.cache.isUnfold?We.cache.isUnfold=1:1===We.cache.isUnfold&&(We.cache.isUnfold=0),aa()}function da(e){e||Oe("reloadData")}function ia(e,a){Ge.value=e.defaultAttribute.multiple?"checkbox":"radio","JyRelatedCompany"===e.defaultAttribute.type?(Fe.value=!0,Je.value=e.values):"JySelectSeal"===e.defaultAttribute.type&&(Re.value=!0,He.value=e.defaultAttribute.multiple?e.options:e.values),Pe.value=e.id}function ba(e){Fe.value=!1;const a=We.cache.formData.findIndex((e=>e.id===Pe.value));a>-1&&(We.cache.formData[a].defaultAttribute.multiple?(We.cache.formData[a].values=e.map((e=>e.relatedCompanyId)),We.cache.formData[a].options=e.map((e=>({label:e.relatedCompanyName,value:e.relatedCompanyId})))):(We.cache.formData[a].values=e.relatedCompanyId,We.cache.formData[a].options=[{label:e.relatedCompanyName,value:e.relatedCompanyId}]))}function pa(e){Re.value=!1;const a=We.cache.formData.findIndex((e=>e.id===Pe.value));a>-1&&(We.cache.formData[a].defaultAttribute.multiple?(We.cache.formData[a].values=e.map((e=>e.sealId)),We.cache.formData[a].options=e.map((e=>({label:e.sealName,value:e.sealId,...e})))):(We.cache.formData[a].values=e.sealId,We.cache.formData[a].options=[{label:e.sealName,value:e.sealId,...e}]))}const ra=()=>{ze.value=!1},ya=e=>{if(!e||0===e.length)return;const a=We.cache.formData.findIndex((e=>e.id===Ke.value));a>-1&&(We.cache.formData[a].defaultAttribute.multiple?We.cache.formData[a].values=e.map((e=>e.id)):We.cache.formData[a].values=e[0].id,We.cache.formData[a].options=e.map((e=>({label:e.name,value:e.id}))))};return o((()=>{Xe()})),N({initFormData:ea}),(e,a)=>{const l=c("el-input"),t=c("el-option"),s=c("el-select"),o=c("el-date-picker"),S=c("el-checkbox"),j=c("el-radio"),N=c("el-radio-group"),Oe=c("el-cascader"),Pe=c("el-switch"),Ze=c("el-button"),Xe=c("el-scrollbar"),Ye=C,ea=B;return u(),n("div",O,[d("div",{class:g(["ap-dis",{"border-bottom":!1!==m(We).props.defaultAttribute["border-bottom"]}])},[i(Xe,{"max-height":m(We).props.defaultAttribute["scrollbar-max-height"],class:"fromData-scrollbar"},{default:b((()=>[d("div",q,[(u(!0),n(p,null,r(m(We).cache.formData,((a,c)=>(u(),n("div",{class:"ap-box",key:c,style:y([qe.style.lineStyle,a.style,m(Qe)(a,c)])},["input"==a.type?(u(),n("div",z,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",_,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",$,[i(l,x({class:"width-100"},a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,clearable:"",onKeyup:k(la,["enter"])}),null,16,["modelValue","onUpdate:modelValue","onKeyup"])])])):"dialog"==a.type?(u(),n("div",L,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",T," * ")):v("",!0),f(" "+h(a.label),1)],4),d("div",K,[i(s,x({modelValue:a.values,"onUpdate:modelValue":e=>a.values=e},a.defaultAttribute,{"tag-type":"waring",disabled:"",style:{width:"100%"},class:a.defaultAttribute.multiple&&a.values.length||!a.defaultAttribute.multiple&&a.values?"hasContent":"",onClick:e=>ia(a)}),{default:b((()=>[(u(!0),n(p,null,r(a.options,(e=>(u(),V(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","class","onClick"]),d("div",{class:"ap-box-contBox-icon",onClick:e=>ia(a)},F,8,E)])])):"derivable"==a.type?(u(),n("div",R,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",H," * ")):v("",!0),f(" "+h(a.label),1)],4),d("div",J,[i(s,x({modelValue:a.values,"onUpdate:modelValue":e=>a.values=e},a.defaultAttribute,{ref_for:!0,ref:e=>((e,a)=>{e&&(ta[a.id]=e)})(e,a),"collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":2,style:{width:"100%"},"popper-class":"popperHidden",class:a.defaultAttribute.multiple&&a.values&&a.values.length||!a.defaultAttribute.multiple&&a.values?"hasContent":"",onClick:e=>function(e,a,l){if(ta[e.id].blur(),"fileType"===e.defaultAttribute.type)return _e.value=!0,sa.value=l,void(Ee.value=e.id);ze.value=!0,Ee.value=e.id,Ke.value=e.id,oa.value=l,"user"===e.defaultAttribute.type?($e.value=["user"],Te.value=[]):($e.value=["organ"],Te.value=[])}(a,0,a.defaultAttribute.multiple)}),{default:b((()=>[(u(!0),n(p,null,r(a.options,(e=>(u(),V(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","class","onClick"]),P])])):"select"==a.type?(u(),n("div",G,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",W," * ")):v("",!0),f(" "+h(a.label),1)],4),d("div",Z,[i(s,x({class:"width-100"},a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,clearable:"",multiple:!!a.defaultAttribute&&a.defaultAttribute.multiple,onChange:la,filterable:a.filterable}),{default:b((()=>[(u(!0),n(p,null,r(a.options,(e=>(u(),V(t,{key:e[a.optionValue||"value"],label:e[a.optionLabel||"label"],value:e[a.optionValue||"value"]},null,8,["label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","multiple","filterable"])])])):"picker"==a.type?(u(),n("div",M,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",Q,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",X,[i(o,x({class:"width-100"},a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,onChange:da}),null,16,["modelValue","onUpdate:modelValue"])])])):"checkbox"==a.type?(u(),n("div",Y,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",ee,"*")):v("",!0),f(" "+h(a.label),1)],4),(u(!0),n(p,null,r(a.checkbox,((e,a)=>(u(),n("div",{class:"ap-box-autoBox checkbox",key:a},[i(S,x(e.defaultAttribute,{style:e.style,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a}),null,16,["style","modelValue","onUpdate:modelValue"])])))),128))])):"radio"==a.type?(u(),n("div",ae,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},h(a.label),5),d("div",le,[i(N,x(a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,onChange:la}),{default:b((()=>[(u(!0),n(p,null,r(a.radio,((e,a)=>(u(),V(j,{key:a,label:e.label},{default:b((()=>[f(h(e.name),1)])),_:2},1032,["label"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue"])])])):"cascader"==a.type?(u(),n("div",te,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",se,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",oe,[i(Oe,x({class:"width-100",style:{width:"100%"}},a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,onChange:la}),null,16,["modelValue","onUpdate:modelValue"])])])):"switch"==a.type?(u(),n("div",ce,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",ue,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",ne,[i(Pe,x(a.defaultAttribute,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e}),null,16,["modelValue","onUpdate:modelValue"])])])):"radioButton"==a.type?(u(),n("div",de,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",ie,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",be,[(u(!0),n(p,null,r(a.data,((e,l)=>(u(),n("div",{class:"button-contBox",key:l},[d("div",{class:g(["custom-button",{checked:!!e.checked}]),style:y(a.style),onClick:t=>function(e,a,l){a.checked?e[l].checked=!1:(e.forEach((e=>{e.checked=!1})),e[l].checked=!0)}(a.data,e,l)},[f(h(e.name)+" ",1),re],14,pe)])))),128))])])):"checkButton"==a.type?(u(),n("div",ye,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",me,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",ve,[(u(!0),n(p,null,r(a.data,((e,l)=>(u(),n("div",{class:"button-contBox",key:l},[d("div",{class:g(["custom-button",{checked:!!e.checked}]),style:y(a.style),onClick:t=>function(e,a,l){a.checked?e[l].checked=!1:e[l].checked=!0}(a.data,e,l)},[f(h(e.name)+" ",1),he],14,fe)])))),128))])])):v("",!0),"scopeInput"==a.type?(u(),n("div",xe,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",ke,"*")):v("",!0),f(" "+h(a.label),1)],4),d("div",Ve,[d("div",ge,[i(l,x({class:"width-100"},a.startAttribute,{modelValue:a.startValue,"onUpdate:modelValue":e=>a.startValue=e}),null,16,["modelValue","onUpdate:modelValue"])]),Ue,d("div",we,[i(l,x({class:"width-100"},a.endAttribute,{modelValue:a.endValue,"onUpdate:modelValue":e=>a.endValue=e}),null,16,["modelValue","onUpdate:modelValue"])])])])):"custom"==a.type?(u(),n("div",Ae,[d("div",{class:"ap-box-label",style:y(qe.style.labelStyle)},[a.isNecessary?(u(),n("span",De,"*")):v("",!0),f(" "+h(a.label),1)],4),(u(!0),n(p,null,r(a.data,((a,l)=>(u(),n("div",{class:"ap-box-contBox",key:l},[U(e.$slots,a.id)])))),128))])):v("",!0)],4)))),128)),d("div",{class:"butData",style:y(qe.style.butLayoutStyle)},[(u(!0),n(p,null,r(qe.butData,((a,l)=>(u(),n("div",{class:"ap-box",key:l,style:y(a.style)},["click"==a.type?(u(),n("div",{key:0,class:"ap-box-cont",onClick:e=>ua(a,l)},[i(Ze,w(A(a.defaultAttribute)),{default:b((()=>[f(h("重置"===a.name?e.$t("t-zgj-reset"):"查询"===a.name?e.$t("t-zgj-query"):"t-zgj-reset"===a.name?e.$t("t-zgj-reset"):"t-zgj-query"===a.name?e.$t("t-zgj-query"):"-"),1)])),_:2},1040)],8,Se)):v("",!0),"unfold"==a.type&&m(We).cache.showUnfold?(u(),n("div",{key:1,class:"ap-box-cont unfold",onClick:na},[0==m(We).cache.isUnfold?(u(),n("div",Ce,[f(h(e.$t("t-zgj-unfold"))+" ",1),Be])):1==m(We).cache.isUnfold?(u(),n("div",je,[f(h(e.$t("t-zgj-fold"))+" ",1),Ie])):v("",!0)])):v("",!0),"text"==a.type?(u(),n("div",{key:2,class:"ap-box-cont",onClick:e=>ua(a,l)},h(a.name),9,Ne)):v("",!0)],4)))),128))],4)])])),_:3},8,["max-height"])],2),ze.value?(u(),V(m(D),{key:0,show:ze.value,"onUpdate:show":ra,searchSelected:Te.value,"onUpdate:searchSelected":ya,tabsShow:$e.value,multiple:oa.value,haveIncluded:!1},null,8,["show","searchSelected","tabsShow","multiple"])):v("",!0),i(Ye,{modelValue:Fe.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Fe.value=e),onOnSubmit:ba,checkType:Ge.value,haveSelectList:Je.value},null,8,["modelValue","checkType","haveSelectList"]),i(ea,{modelValue:Re.value,"onUpdate:modelValue":a[1]||(a[1]=e=>Re.value=e),haveSelectList:He.value,checkType:Ge.value,onOnSubmit:pa},null,8,["modelValue","haveSelectList","checkType"]),i(m(I),{show:_e.value,"onUpdate:show":a[2]||(a[2]=e=>_e.value=e),searchSelected:Le.value,"onUpdate:searchSelected":ca,multiple:sa.value,queryParams:Me.value},null,8,["show","searchSelected","multiple","queryParams"])])}}};export{Oe as _};

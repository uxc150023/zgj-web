import{c as e}from"./Layout-e90710df.js";import{_ as t,a,b as o,M as s}from"./seal-zn-error-icon-eaaeed5e.js";import{C as n,F as l,G as i,H as c,J as r,K as d,O as u,I as m,Q as p,N as h,M as x,R as b,V as g,W as k,b as C,a9 as f,a1 as y,B,u as S,P as E,U as v}from"./chunk-element-plus-a77de3d2.js";import{g as w,j as I}from"./chunk-vform-d740b35c.js";const N={name:"MouthCard",props:{platform:{type:String,default:"pc"},state:{type:Number,default:0},inBoxState:{type:Number,default:0},bindState:{type:Number,default:1},cancel:{type:Boolean,default:!1},ignoreException:{default:()=>!1},productName:{type:String,default:"-"},boxCode:{type:String,default:"-"}},computed:{isCancel(){return!this.cancel},isError(){return 0!==this.state&&this.state},isBound(){return 1===this.bindState},isInBox(){return 1===this.inBoxState},showImgIn(){return this.isBound&&(this.isInBox&&!this.isError||this.isError&&-2===this.state)},showImgOutNormal(){return this.isBound&&!this.isInBox&&!this.isError},showImgOutError(){return this.isBound&&this.isError&&-1===this.state},handleImgUrl(){let e="";return this.showImgIn?e="status_in.png":this.showImgOut?e="status_out.png":this.showImgOutError&&(e="staus_small_error_out.png",e="status_out.png"),e}},data:()=>({}),methods:{unlock(e){this.$emit("unlock",e)},check(e){this.$emit("check",e)},unlockReturn(e){this.$emit("unlockReturn",e)},Cancel(e){this.$emit("cancel",e)},goDetail(){this.$emit("goDetail")}}},_={class:"card-container"},M={key:0,class:"status-label"},A={key:1,class:"status-label"},F={class:"card-column left"},O={key:1,src:t},J={key:2,src:a},V={key:3,src:o},D={key:0,class:"card-name name-style"},G={key:1,class:"card-name name-style"},U=(e=>(g("data-v-3505bead"),e=e(),k(),e))((()=>c("div",{class:"card-column center"},null,-1))),j={class:"card-column right"},L={key:0,class:"pc-name"},$={class:"btns"},z=b(" 开锁 "),P=b(" 盘点 "),R=b(" 注销 ");const T=w(N,[["render",function(e,t,a,o,s,b){const g=n("el-button");return l(),i("div",_,[c("div",{class:d("pc"===a.platform?"card-pc":"card-terminal"),style:u({border:b.isCancel?"1px dashed #c0c4cc":"",background:b.isCancel?"#F5F5F5":"#FFFFFF"}),onClick:t[0]||(t[0]=x(((...e)=>b.goDetail&&b.goDetail(...e)),["stop"]))},[a.ignoreException?(l(),i("div",M,"格口异常(已忽略)")):r("",!0),b.isError&&!a.ignoreException?(l(),i("div",A," 格口异常 ")):r("",!0),c("div",F,[c("div",{class:d(["img-box size-box",b.isError?"error-bg":"normal-bg"])},["terminal"===a.platform?(l(),i("div",{key:0,class:"terminal-name",style:u({color:b.isError?"#ffffff":"#c0c4cc"})},m(a.boxCode),5)):r("",!0),b.showImgIn?(l(),i("img",O)):r("",!0),b.showImgOutNormal?(l(),i("img",J)):r("",!0),b.showImgOutError?(l(),i("img",V)):r("",!0)],2),b.isBound?(l(),i("div",D,m(a.productName),1)):(l(),i("div",G,"未绑定印章"))]),U,c("div",j,["pc"===a.platform?(l(),i("div",L,m(a.boxCode),1)):r("",!0),c("div",$,[b.isCancel?r("",!0):(l(),p(g,{key:0,class:"unlock-btn btn",onClick:x(b.unlock,["stop"])},{default:h((()=>[z])),_:1},8,["onClick"])),b.isCancel?r("",!0):(l(),p(g,{key:1,class:"check-btn btn",onClick:x(b.check,["stop"])},{default:h((()=>[P])),_:1},8,["onClick"])),b.isCancel?(l(),p(g,{key:2,class:"unlock-btn btn seal-btn",onClick:x(b.Cancel,["stop"])},{default:h((()=>[R])),_:1},8,["onClick"])):r("",!0),r("",!0)])])],6)])}],["__scopeId","data-v-3505bead"]]),q=e=>(g("data-v-921dcee3"),e=e(),k(),e),H={class:"PrintControlManagement-IntelligentSealBoxManagement"},K=q((()=>c("div",{class:"title"},[c("div",null,"格口管理")],-1))),Q={class:"search"},W={class:"select-wrap"},X=q((()=>c("span",{class:"search-label"},"终端名称",-1))),Y={class:"box-card"},Z={key:0,class:"status"},ee={class:"columns-check"},te={class:"check-flex"},ae=b(" 查看最近一次盘点结果"),oe=b("一键盘点"),se={class:"columns-status"},ne={class:"el-row-wrap"},le=w({setup(t){const a=I(),o=C({lastCheckTime:"2022-12-26 12:00:00",terminalGrid:"243印章盒001",termialOptions:[{id:1,name:"243印章盒001",label:1},{id:2,name:"243印章盒002",label:2},{id:3,name:"243印章盒003",label:3}],mouthLists:[{state:0,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-1",productName:"243测试章"},{state:-1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-2",productName:"243测试章"},{state:-2,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-3",productName:"243测试章"},{state:0,inBoxState:0,bindState:0,link:"",ignoreException:!1,boxCode:"A-1-4",productName:"243测试章"},{state:0,inBoxState:0,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-5",productName:"243测试章"},{state:-2,inBoxState:0,bindState:1,link:"",ignoreException:!0,boxCode:"A-1-6",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:!1,ignoreException:!1,boxCode:"A-1-7",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-8",productName:"243测试章"},{state:1,inBoxState:1,bindState:1,link:"",ignoreException:!1,boxCode:"A-1-9",productName:"243测试章"}],JyElMessageBox:{show:!1,header:{data:""},content:{data:""}}});function d(){a.push({name:"ViewCheckInfo"})}return f((()=>{})),y((()=>{})),(t,u)=>{const x=n("el-option"),g=n("el-select"),k=n("el-button"),C=n("el-col"),f=n("el-row"),y=n("JyElMessageBox");return l(),i("div",H,[B(e,{Layout:"title,searchForm,custom"},{title:h((()=>[K,c("div",Q,[c("div",W,[X,B(g,{modelValue:S(o).terminalGrid,"onUpdate:modelValue":u[0]||(u[0]=e=>S(o).terminalGrid=e),placeholder:"请选择终端名称",size:"small",onChange:t.changeSelect},{default:h((()=>[(l(!0),i(E,null,v(S(o).termialOptions,(e=>(l(),p(x,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),c("div",Y,[0!==S(o).mouthLists.length?(l(),i("div",Z,[c("div",ee,[c("u",te,[c("div",{class:"check-last",onClick:d},[ae,c("span",null,"("+m(S(o).lastCheckTime)+")",1)])]),B(k,{class:"check-button",type:"primary",onClick:t.checkAll},{default:h((()=>[oe])),_:1},8,["onClick"])])])):r("",!0)])]),c("div",se,[B(s)])])),custom:h((()=>[c("div",ne,[B(f,{type:"flex",gutter:16,justify:"space-between",style:{"flex-wrap":"wrap","min-width":"1000px"}},{default:h((()=>[(l(!0),i(E,null,v(S(o).mouthLists,((e,o)=>(l(),p(C,{span:8,style:{"margin-bottom":"16px"},key:o},{default:h((()=>[B(S(T),{platform:"pc",state:e.state,inBoxState:e.inBoxState,bindState:e.bindState,cancel:e.link,ignoreException:e.ignoreException,boxCode:e.boxCode,productName:e.productName,onGoDetail:e=>{a.push({path:"/frontDesk/printControlManage/equipmentManage/intelligentSealBoxManagement/sealBoxGridInfo"})},onUnlock:a=>t.handleUnlock(e),onCheck:a=>t.handlePan(e),onCancel:a=>t.handleCancel(e)},null,8,["state","inBoxState","bindState","cancel","ignoreException","boxCode","productName","onGoDetail","onUnlock","onCheck","onCancel"])])),_:2},1024)))),128)),(l(),i(E,null,v(3,(e=>B(C,{span:8,style:{"margin-bottom":"16px"},key:9*e}))),64))])),_:1})])])),_:1}),B(y,{modelValue:S(o).JyElMessageBox.show,"onUpdate:modelValue":u[1]||(u[1]=e=>S(o).JyElMessageBox.show=e),show:S(o).JyElMessageBox.show,defaultAttribute:{}},{header:h((()=>[b(m(S(o).JyElMessageBox.header.data),1)])),content:h((()=>[b(m(S(o).JyElMessageBox.content.data),1)])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-921dcee3"]]);export{le as default};

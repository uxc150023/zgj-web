import{c as a}from"./table-d1366238.js";import{_ as t}from"./searchForm-6ca4b4e4.js";import{c as e}from"./pagination-10abb664.js";import{c as o}from"./Layout-a5f6ee71.js";import{a7 as n,v as l,h as i,j as r,o as s,c as d,a as p,w as m,m as u,u as c,n as b,f as h,ai as g,l as y}from"./main-e75bd94c.js";import{c as f}from"./batch-99f4afc3.js";import"./sangedian-6ea00dcf.js";import"./ketanchude-a94e84bc.js";import"./KDocumentTypeDialog-6b47a1ba.js";const v={systemOperation:a=>n({method:"GET",url:"/log/operation/page",params:a})},A=u("div",{class:"title"},"系统操作日志",-1),j={class:"batch"},w={setup(n){const w=l(!1),P=l(!1),k=i({componentsSearchForm:{style:{lineStyle:{width:"30%"},labelStyle:{width:"100px"}},data:[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"请输入操作人/操作模块/操作内容"}},{id:"picker",label:"选择时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"name",label:"所属部门",type:"derivable",inCommonUse:!0,defaultAttribute:{placeholder:"请选择"}}],butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:[{prop:"accountNo",label:"操作人",sortable:!0,"min-width":150},{prop:"organName",label:"所在部门",sortable:!0,"min-width":180},{prop:"createTime",label:"操作时间",sortable:!0,"min-width":150},{prop:"module",label:"操作模块",sortable:!0,"min-width":180},{prop:"contentType",label:"操作内容",sortable:!0,"min-width":180}],data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"}}},componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,100,200,300,400],background:!0}}});function T(a,t){"derivable"===a.type&&(w.value=!0)}const S=()=>(P.value=!0,v.systemOperation({keyword:"",pageNo:k.componentsPagination.data.index,pageSize:k.componentsPagination.data.pageNumber}).then((a=>(k.componentsTable.data=a.data.records,k.componentsPagination.data.amount=a.data.total,k.componentsPagination.defaultAttribute.total=a.data.total,P.value=!1,a)))),D=a=>{k.componentsPagination.data.index=a,S()},C=a=>{k.componentsPagination.data.pageNumber=a,S()};return r((()=>{S()})),(n,l)=>(s(),d("div",null,[p(o,{Layout:"title,searchForm,table,pagination,batch"},{title:m((()=>[A])),searchForm:m((()=>[u("div",null,[p(c(t),{data:c(k).componentsSearchForm.data,butData:c(k).componentsSearchForm.butData,style:b(c(k).componentsSearchForm.style),onClickElement:T},null,8,["data","butData","style"])])])),batch:m((()=>[u("div",j,[p(f)])])),table:m((()=>[u("div",null,[p(c(a),{defaultAttribute:c(k).componentsTable.defaultAttribute,data:c(k).componentsTable.data,loading:P.value,header:c(k).componentsTable.header,paginationData:c(k).componentsPagination.data,isSelection:!0},null,8,["defaultAttribute","data","loading","header","paginationData"])])])),pagination:m((()=>[p(e,{data:c(k).componentsPagination.data,defaultAttribute:c(k).componentsPagination.defaultAttribute,onCurrentChange:D,onSizeChange:C},null,8,["data","defaultAttribute"])])),_:1}),w.value?(s(),h(c(g),{key:0,show:w.value,"onUpdate:show":l[0]||(l[0]=a=>w.value=a)},null,8,["show"])):y("",!0)]))}};export{w as default};

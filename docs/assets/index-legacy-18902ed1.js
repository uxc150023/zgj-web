System.register(["./chunk-vform-legacy-9e71fe2f.js","./index-legacy-58f7c896.js","./chunk-element-plus-legacy-cff7802d.js"],(function(e,t){"use strict";var a,o,r,l,i,n,s,d,u,m,p,c,g,f,y,F,v,b=document.createElement("style");return b.textContent=".drag-dialog .el-dialog__header{display:block!important}.drag-dialog .el-dialog__body{padding:25px!important}\n",document.head.appendChild(b),{setters:[e=>{a=e.H,o=e.V,r=e.J,l=e.K,i=e.M,n=e.N,s=e.O},e=>{d=e.a},e=>{u=e.r,m=e.j,p=e.a1,c=e.F,g=e.G,f=e.Q,y=e.u,F=e.E,v=e.n}],execute:function(){const t={languageMenu:!1,externalLink:!1,formTemplates:!0,widgetNameReadonly:!1,eventCollapse:!0,clearDesignerButton:!1,previewFormButton:!0,importJsonButton:!0,exportJsonButton:!0,exportCodeButton:!1,generateSFCButton:!0,toolbarMaxWidth:420,toolbarMinWidth:300,presetCssCode:"",resetFormJson:!1,productName:"",productTitle:"",logoHeader:!1},b={name:"JyVform"};e("default",Object.assign(b,{props:{mode:{type:String,default:""},designerConfig:{type:Object,default:()=>t},formJson:{type:Object,default:()=>{}},formData:{type:Object,default:()=>{}},optionData:{type:Object,default:()=>{}},hideModuleList:{type:Array,default:()=>[]},prefabricationFieldList:{type:Array,default:()=>[]},userType:{type:String,default:""}},emits:["formChange","appendButtonClick","buttonClick","on-loaded"],setup(e,{expose:b,emit:h}){const L=e,D=a(),C=u(null),J=u([]),T=u([]),j=u(0),k=m((()=>D.fileTypeList||[])),B=e=>{h("buttonClick",e)},W=e=>{h("appendButtonClick",e)},x=(e,t,a,o,r,l)=>{h("formChange",{fieldName:e,newValue:t,oldValue:a,formModel:o,subFormName:r,subFormRowIndex:l})},M=async e=>{try{const t=await d.formColumnBasic({applyTypeId:e}),a=[...l,...i,...n,...s].map((e=>e.type)).filter((e=>![...t.data.columSys,...t.data.columBiz].includes(e)));J.value=a,j.value++}catch(t){F.error(t)}},w=async e=>{try{const t=await d.getFormTemplate({applyTypeId:e});T.value=t.data.map((e=>JSON.parse(e.formTemplateInfo)));const a=C.value.getFieldWidgets();v((()=>{L.mode||a.length||C.value.setFormJson(JSON.parse(JSON.stringify(T.value[0].jsonUrl)))}))}catch(t){F.error(t)}};return p((()=>{h("on-loaded")})),b({getFormJson:()=>C.value.getFormJson()||"",clearDesigner:()=>{C.value.clearDesigner()},previewForm:()=>{C.value.previewForm()},getFieldWidgets:()=>C.value.getFieldWidgets(),exportJson:()=>{C.value.exportJson()},importJson:e=>{C.value.importJson(e)},getWidgetRef:e=>C.value.getWidgetRef(e),buildFormDataSchema:()=>C.value.buildFormDataSchema(),changeLanguage:()=>{C.value.changeLanguage()},setFormJson:e=>{C.value.setFormJson(e)},validateForm:async()=>{let e=!1;return await C.value.validateForm((t=>{e=t})),e},getFormData:async(e=!0)=>{try{return C.value.getFormData(e)}catch(t){return Promise.reject(t)}},setFormData:e=>{C.value.setFormData(e)},setFieldValue:(e,t)=>{C.value.setFieldValue(e,t)},resetForm:()=>{C.value.resetForm()},setReadMode:()=>{C.value.setReadMode()},showDialog:()=>{C.value.showDialog()},setFormColumnBasic:M,setFormTemplate:w,initDesigner:e=>{M(e),w(e)},disableForm:()=>{C.value.disableForm()},getFieldValue:async e=>{try{return C.value.getFieldValue(e)}catch(t){return Promise.reject(t)}},reloadOptionData:async e=>{try{return C.value.reloadOptionData(e)}catch(t){return Promise.reject(t)}},hideWidgets:(e=null)=>{C.value.hideWidgets(e)},disableWidgets:(e=null)=>{C.value.disableWidgets(e)}}),(a,l)=>(c(),g("div",null,["render"===L.mode?(c(),f(y(o),{key:0,"form-json":L.formJson,"form-data":L.formData,optionData:L.optionData,ref_key:"vFormRef",ref:C,onFormChange:x,onAppendButtonClick:W,onButtonClick:B,fileTypeList:y(k),prefabricationFieldList:L.prefabricationFieldList},null,8,["form-json","form-data","optionData","fileTypeList","prefabricationFieldList"])):(c(),f(y(r),{ref_key:"vFormRef",ref:C,bannedWidgets:J.value,"designer-config":y(t),hideModuleList:e.hideModuleList,prefabricationFieldList:L.prefabricationFieldList,templateList:T.value,fileTypeList:y(k),userType:e.userType,key:j.value},null,8,["bannedWidgets","designer-config","hideModuleList","prefabricationFieldList","templateList","fileTypeList","userType"]))]))}}))}}}));

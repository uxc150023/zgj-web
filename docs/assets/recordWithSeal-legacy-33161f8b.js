System.register(["./main-legacy-e4f08f00.js","./gengduo-caozuo-legacy-e441bcd3.js","./JyTable-legacy-90542ef5.js","./JyTabs-legacy-2cd3710e.js","./documentsDetails-legacy-6d85e127.js","./listUsing-legacy-daf83173.js","./RecordSealToReview-legacy-8ad20d94.js","./sealApplyIntellect-legacy-af46979d.js","./actionOneDialog-legacy-b2e26b68.js","./ApproverApi-legacy-2420735f.js","./listApprovingJson-legacy-f4da9ebd.js","./actionMoreDialog-legacy-f2df37fa.js","./sangedian-legacy-75d81ddc.js","./Layout-legacy-2d6304ed.js","./searchForm-legacy-fca93ca0.js","./ketanchude-legacy-4abaf206.js","./KDocumentTypeDialog-legacy-7466812a.js","./pagination-legacy-99cf5106.js","./batch-legacy-2b58170c.js","./index-legacy-4bc08aba.js","./JyTabs.vue_vue_type_style_index_0_scoped_5e06bfe2_lang-legacy-bb1152fe.js","./cha-kong-legacy-1ebc7b7b.js","./table-legacy-44782077.js","./documentsDetails.vue_vue_type_style_index_0_scoped_204b6fa9_lang-legacy-1381b1de.js","./portion-legacy-951c615d.js","./portion.vue_vue_type_style_index_0_scoped_3abd16ad_lang-legacy-c3216d6b.js","./yuan-hui-legacy-0c1e3d03.js","./request-util-legacy-a95fc64c.js"],(function(e,l){"use strict";var a,t,o,s,n,i,r,d,p,u,c,m,y,g,h,b,f,v,D,S,w,A,M,T,x,J,I,j,N,U,B,C,_,k,E,R,q,P,F,Y,O,V=document.createElement("style");return V.textContent=".PrintControlManagement-recordWithSeal[data-v-b30ef6f9]{margin:0%}.PrintControlManagement-recordWithSeal .title[data-v-b30ef6f9]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-recordWithSeal .title .title-more[data-v-b30ef6f9]{height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .title .title-more .title-more-add[data-v-b30ef6f9]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .title .title-more .title-more-down[data-v-b30ef6f9]{height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .batch[data-v-b30ef6f9]{display:flex;align-items:center}.PrintControlManagement-recordWithSeal .batch .batch-desc[data-v-b30ef6f9]{margin-right:.8571428571rem}\n",document.head.appendChild(V),{setters:[e=>{a=e._,t=e.I,o=e.v,s=e.h,n=e.j,i=e.k,r=e.r,d=e.o,p=e.c,u=e.a,c=e.w,m=e.m,y=e.u,g=e.l,h=e.f,b=e.ai,f=e.g,v=e.cv,D=e.aa,S=e.M,w=e.y,A=e.z},e=>{M=e._},e=>{T=e.J},e=>{x=e.c},e=>{J=e.c},e=>{I=e.d,j=e.l,N=e.a,U=e.b,B=e.c,C=e.e,_=e.f,k=e.g,E=e.h},e=>{R=e.R},e=>{q=e.a},e=>{P=e.a},e=>{F=e.A},e=>{Y=e.s},e=>{O=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=[{id:"keyword",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人/用印编码"}},{id:"applyTime",label:"申请时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeId",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"sealId",requestParams:"sealId",label:"印章名称",type:"dialog",defaultAttribute:{type:"JySelectSeal",multiple:!1,placeholder:"+印章名称"},options:[]},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!1,placeholder:"+申请人"},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganId",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!1,placeholder:"+申请部门"},options:[],values:null},{id:"relatedCompanyId",label:"往来单位",type:"dialog",defaultAttribute:{type:"JyRelatedCompany",multiple:!1,placeholder:"+往来单位"},options:[],values:null},{id:"totalMoney",label:"金额",type:"scopeInput",startAttribute:{placeholder:"最小金额",id:"totalMoneyMin"},endAttribute:{placeholder:"最大金额",id:"totalMoneyMax"}},{id:"applyTime",label:"盖章时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},style:{}},{id:"extSeal",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"印章外带","true-label":1,"false-label":0},style:{}}]},{id:"querySelf",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据","true-label":1,"false-label":0},style:{}}]}],V=[{id:"keyword",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人/用印编码"}},{id:"applyTime",label:"申请时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeId",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"sealId",requestParams:"sealId",label:"印章名称",type:"dialog",defaultAttribute:{type:"JySelectSeal",multiple:!1,placeholder:"+印章名称"},options:[],values:null},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!1,placeholder:"+申请人"},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganId",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!1,placeholder:"+申请部门"},options:[],values:null},{id:"relatedCompanyId",label:"往来单位",type:"dialog",defaultAttribute:{type:"JyRelatedCompany",multiple:!1,placeholder:"+往来单位"},options:[],values:null},{id:"totalMoney",label:"金额",type:"scopeInput",startAttribute:{placeholder:"最小金额",id:"totalMoneyMin"},endAttribute:{placeholder:"最大金额",id:"totalMoneyMax"}},{id:"applyTime",label:"盖章时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},style:{}},{id:"status",label:"用印状态",type:"checkButton",data:[{id:"1",name:"正常"},{id:"0",name:"异常"}]},{id:"extSeal",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"印章外带","true-label":1,"false-label":0},style:{}}]},{id:"querySelf",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据","true-label":1,"false-label":0},style:{}}]}],W=e=>(w("data-v-b30ef6f9"),e=e(),A(),e),z={class:"PrintControlManagement-recordWithSeal"},$={class:"title"},L=W((()=>m("div",null,"用印记录",-1))),H={class:"title-more"},K=W((()=>m("div",{class:"title-more-add"},null,-1))),Q={key:0,class:"title-more-down"},X=W((()=>m("img",{class:"button-icon",src:M,alt:"",srcset:""},null,-1))),Z=W((()=>m("span",null,"更多操作",-1))),G=f("查看已作废的单据"),ee={class:"ap-box"};e("default",a({setup(e){const a=t(),f=o(!1),w=o(null),A=s({show:!1,title:"流程终止",formJson:I}),M=o(null),W=o("listApproving"),le=o({listApproving:j,listFileVerification:N,listNoResult:U,listNotUse:B,listNoUse:C,listResultDone:_,listUseDone:k,listUsing:E}),ae=o(null),te=e=>{e?M.value.getFormData().then((e=>{alert(JSON.stringify(e))})):M.value.resetForm()},oe=s({componentsTitle:{more:{data:[{name:"查看已作废的单据",codle:"1"}]}},componentsTabs:{data:[{label:"待审批",name:"listApproving"},{label:"待文件核验",name:"listFileVerification"},{label:"待智能用印",name:"listNoUse"},{label:"智能用印中",name:"listUsing"},{label:"已完成用印",name:"listUseDone"},{label:"待上传文件归档",name:"listNoResult"},{label:"已完成归档",name:"listResultDone"},{label:"不可用",name:"listNotUse"}]},componentsSearchForm:{data:Y,butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:j},componentsDocumentsDetails:{show:!1,visible:[{label:"用印详情",name:"Details-of-Printing"},{label:"审批流程",name:"approval-process"},{label:"领用记录",name:"Record-of-requisition"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"批量作废"}]},JyElMessageBox:{type:"",column:{},flag:"",show:!1,header:{data:""},content:{data:""}},computedData:[],showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}}});function se(e,l,a,t){"useSealFileName"===l.property&&(oe.componentsDocumentsDetails.show=!0,q.sealBaseInfo({useSealApplyId:e.useSealApplyId}).then((e=>{const l=e.data,a=[{label:"文件名称",value:l.useSealFileName},{label:"单据编码",value:l.useSealApplyNo},{label:"文件类型",value:l.fileTypeName},{label:"文件份数",value:(l.useSealFileNum||0)+"份"},{label:"金额",value:l.totalMoney||"-"},{label:"申请事由",value:l.useSealInfo},{label:"盖章码",value:l.sealCode||"-"},{label:"申请人员",value:l.applyUserName},{label:"申请时间",value:l.applyDatetime},{label:"所属部门",value:l.applyOrganName},{label:"单据状态",value:l.useSealStateName,iconPath:"yuanLv",iconStyle:{},valStyle:{color:"var(--jy-success-6)"}}];l.listSeal.length&&(1===l.listSeal.length?a.splice(a.length-5,0,{label:"印章名称",value:l.listSeal[0].useSealApplySealInfoDto.sealName},{label:"常规盖章",value:l.listSeal[0].useSealApplySealNumDto.applySealNum+"次"}):l.listSeal.forEach(((e,l)=>{a.splice(a.length-5,0,{label:`印章${l+1}名称`,value:e.useSealApplySealInfoDto.sealName},{label:"常规盖章",value:e.useSealApplySealNumDto.applySealNum+"次"})}))),oe.componentsDocumentsDetails.visible[0].basicInformation={show:!0,data:a}})),q.intellect({useSealApplyId:e.useSealApplyId}).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.length?oe.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!0,data:e.data}:oe.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!1,data:[]}})),q.attachment({useSealApplyId:e.useSealApplyId}).then((e=>{var l,a;null!==(l=e.data.fileInfos)&&void 0!==l&&l.length||null!==(a=e.data.fileInfoAdds)&&void 0!==a&&a.length?oe.componentsDocumentsDetails.visible[0].accessory={show:!0,printedData:e.data.fileInfos,additionalData:e.data.fileInfoAdds}:oe.componentsDocumentsDetails.visible[0].accessory={show:!1,printedData:[],additionalData:[]}})))}function ne(e,l,t,o){oe.JyElMessageBox.type=t.name,oe.JyElMessageBox.column=l,"t-zgj-Revocation"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="撤销后本次申请送审将被取消，请问确定要撤销吗？",oe.JyElMessageBox.show=!0),"t-zgj-Void"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="作废后当前记录将从当前表格中消失，请问确定要作废吗？",oe.JyElMessageBox.show=!0),"流程终止"===t.name&&(A.show=!0,A.title="流程终止",A.formJson=I),"复核"===t.name&&(A.show=!0,A.title="复核",A.formJson=R),"解除用印限制"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="若单据满足【远程盖章】、【实时视频盖章】、【二维码水印校验】、【限时用印】、【印章外带】、【盖前文件内容核验】条件，此操作会取消所有相关校验并将盖章模式转为普通智能用印，以支持用印人跳过限制直接用印，确定要继续吗？",oe.JyElMessageBox.show=!0),"去送审"===t.name&&a.push({name:"InnerPageApplication"})}const ie=()=>{"t-zgj-Revocation"===oe.JyElMessageBox.type?F.withdraw({instanceId:oe.JyElMessageBox.column.gunsSysId}).then((()=>{v("撤销成功"),ae.value.reloadData()})).finally((()=>{oe.JyElMessageBox.show=!1})):"t-zgj-Void"===oe.JyElMessageBox.type&&q.invalid({sealUseApplyIds:[oe.JyElMessageBox.column.useSealApplyId]}).then((()=>{ae.value.reloadData(),v("作废成功")})).finally((()=>{oe.JyElMessageBox.show=!1}))};function re(){oe.componentsDocumentsDetails.show=!1}function de(e){oe.componentsTable.header=le.value[e],W.value=e,"listApproving"===e||"listUseDone"===e||"listUsing"===e?oe.componentsBatch.data=[{name:"批量作废"}]:"listFileVerification"!==e&&"listNoResult"!==e&&"listNotUse"!==e&&"listNoUse"!==e&&"listResultDone"!==e||(oe.componentsBatch.data=[{name:"批量作废"},{name:"批量流程终止"}]),"listApproving"===e||"listFileVerification"===e||"listNoResult"===e||"listNotUse"===e||"listNoUse"===e||"listResultDone"===e||"listUseDone"===e?oe.componentsTitle.more.data=[{name:"查看已作废的单据"},{name:"导出台账"}]:"listUsing"===e&&(oe.componentsTitle.more.data=[{name:"查看已作废的单据"}]),"listApproving"===e||"listFileVerification"===e||"listNoResult"===e||"listUsing"===e?oe.componentsSearchForm.data=JSON.parse(JSON.stringify(Y)):"listNotUse"===e?oe.componentsSearchForm.data=JSON.parse(JSON.stringify(l)):"listNoUse"!==e&&"listResultDone"!==e&&"listUseDone"!==e||(oe.componentsSearchForm.data=JSON.parse(JSON.stringify(V))),D((()=>{ae.value.reloadData()}))}function pe(e,l){oe.componentsBatch.selectionData=l,w.value={header:{data:"批量作废"},content:{data:"作废后当前记录将从当前表格中消失，请问确定要作废么？"}},oe.showToastDialog.show=!0}const ue=()=>{const e=oe.componentsBatch.selectionData,l=[];e.forEach((e=>{l.push(e.useSealApplyId)})),q.invalid({sealUseApplyIds:l}).then((e=>{ae.value.reloadData(),v("作废成功"),oe.showToastDialog.show=!1}))};return n((()=>{})),i((()=>{})),(e,l)=>{const t=r("el-button"),o=r("el-dropdown-item"),s=r("el-dropdown-menu"),n=r("el-dropdown"),i=r("v-form-render"),v=S;return d(),p("div",z,[u(T,{url:`/sealApply/${W.value}`,ref_key:"jyTable",ref:ae,hasTabs:"",componentsSearchForm:y(oe).componentsSearchForm,componentsTableHeader:y(oe).componentsTable.header,componentsBatch:y(oe).componentsBatch,computedData:"listApproving"===W.value?y(oe).computedData:[],tableClick:"useSealFileName",onCellClick:se,onCustomClick:ne,onClickBatchButton:pe},{title:c((()=>[m("div",$,[L,m("div",H,[K,y(oe).componentsTitle.more.data.length>0?(d(),p("div",Q,[u(n,null,{dropdown:c((()=>[u(s,null,{default:c((()=>[u(o,{onClick:l[0]||(l[0]=e=>y(a).push({name:"VoidApply"}))},{default:c((()=>[G])),_:1})])),_:1})])),default:c((()=>[u(t,null,{default:c((()=>[X,Z])),_:1})])),_:1})])):g("",!0)])])])),tabs:c((()=>[m("div",null,[u(x,{activeName:W.value,data:y(oe).componentsTabs.data,onTabChange:de},null,8,["activeName","data"])])])),_:1},8,["url","componentsSearchForm","componentsTableHeader","componentsBatch","computedData"]),m("div",ee,[u(J,{show:y(oe).componentsDocumentsDetails.show,visible:y(oe).componentsDocumentsDetails.visible,onClickClose:re},null,8,["show","visible"])]),u(v,{"onUpdate:show":l[1]||(l[1]=e=>y(A).show=e),show:y(A).show,title:y(A).title,oneBtn:!1,centerBtn:"",confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),onClose:te},{default:c((()=>[(d(),h(i,{"form-json":y(A).formJson,"form-data":y(A).formJson,"option-data":y(A).optionData,ref_key:"vFormLibraryRef",ref:M,key:y(A).title},null,8,["form-json","form-data","option-data"]))])),_:1},8,["show","title","confirmText","concelText"]),f.value?(d(),h(y(b),{key:0,show:f.value,"onUpdate:show":l[2]||(l[2]=e=>f.value=e)},null,8,["show"])):g("",!0),u(P,{modelValue:y(oe).JyElMessageBox.show,"onUpdate:modelValue":[l[3]||(l[3]=e=>y(oe).JyElMessageBox.show=e),y(oe).JyElMessageBox.show],JyElMessageBox:y(oe).JyElMessageBox,onSubmitElMessageBox:ie},null,8,["modelValue","JyElMessageBox","onUpdate:modelValue"]),u(y(O),{"onUpdate:modelValue":l[4]||(l[4]=e=>y(oe).showToastDialog.show=!1),show:y(oe).showToastDialog.show,selectionData:y(oe).componentsBatch.selectionData,showToastDialogContent:w.value,label:"useSealFileName",onSureAction:ue},null,8,["show","selectionData","showToastDialogContent"])])}}},[["__scopeId","data-v-b30ef6f9"]]))}}}));

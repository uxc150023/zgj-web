System.register(["./back-legacy-abbf9c2a.js","./JyTable-legacy-7e059877.js","./chunk-vform-legacy-f1b551df.js","./authorityManagement-legacy-0e7c2662.js","./chunk-element-plus-legacy-3362d1f8.js","./chunk-ant-design-vue-legacy-78f2abeb.js","./sangedian-legacy-75d81ddc.js","./Layout-legacy-262a6687.js","./searchForm-legacy-04a651fb.js","./ketanchude-legacy-4abaf206.js","./KDocumentTypeDialog-legacy-0ecc1f11.js","./pagination-legacy-4c7c1f23.js","./batch-legacy-ff825cb6.js","./index-legacy-ed44ba95.js"],(function(e,a){"use strict";var t,l,s,o,r,n,i,c,d,u,m,g,h,b,y,p,v,f,w,x,S,C,M,j,k=document.createElement("style");return k.textContent=".PrintControlManagement-LibraryOfSeals[data-v-d7ae183b]{margin:0%}.PrintControlManagement-LibraryOfSeals .title[data-v-d7ae183b]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-LibraryOfSeals .title .title-more[data-v-d7ae183b]{height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-more .title-more-add[data-v-d7ae183b]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-more .title-more-down[data-v-d7ae183b]{height:100%;display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .title .title-desc[data-v-d7ae183b]{display:flex;align-items:center;font-size:22px;color:rgba(0,0,0,.85)}.PrintControlManagement-LibraryOfSeals .title .title-desc .title-desc-img[data-v-d7ae183b]{margin-right:.5rem;cursor:pointer}.PrintControlManagement-LibraryOfSeals .title .title-desc .role[data-v-d7ae183b]{font-size:16px;color:rgba(0,0,0,.65)}.PrintControlManagement-LibraryOfSeals .batch[data-v-d7ae183b]{display:flex;align-items:center}.PrintControlManagement-LibraryOfSeals .batch .batch-desc[data-v-d7ae183b]{margin-right:.8571428571rem}.waixian[data-v-d7ae183b]{margin-left:25px;font-size:13px;color:#666}\n",document.head.appendChild(k),{setters:[e=>{t=e._},e=>{l=e.J},e=>{s=e.g,o=e.j,r=e.u,n=e.P},e=>{i=e.a},e=>{c=e.E},e=>{d=e.a,u=e.at,m=e.b,g=e.aQ,h=e.W,b=e.X,y=e.ap,p=e.ai,v=e.Y,f=e.ao,w=e.u,x=e.ah,S=e.am,C=e.an,M=e.ba,j=e.bb},null,null,null,null,null,null,null,null],execute:function(){const a=[{prop:"userName",label:"姓名",sortable:!0,flex:!0,"min-width":150,show:!0},{prop:"accountNo",label:"账号",sortable:!0,"min-width":150,show:!0},{prop:"hostOrganName",label:"所属部门",sortable:!0,"min-width":150,show:!0},{prop:"userTitle",label:"职位",sortable:!0,"min-width":150,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:220,show:!0,rankDisplayData:[{name:"t-zgj-role.Removal"}]}],k=e=>(M("data-v-d7ae183b"),e=e(),j(),e),B={class:"PrintControlManagement-LibraryOfSeals"},E={class:"breadcrumb"},I=C(" 权限管理 "),J=C(" 人员管理 "),T={class:"title"},P={class:"title"},O={class:"title-desc"},L=C(" 人员管理"),_={class:"role"},D={class:"title-more"},z={class:"title-more-add"},A=C("+ 新增人员"),U=k((()=>v("div",{class:"title-more-down"},null,-1))),q={class:"header-div"},N=["src"],F={class:"content-div"};e("default",s({setup(e){const s=o(),M=r(),j=d(null),k=d({}),R=d(M.query.roleName),V=u({sealIds:"",msg:"",tabsShow:[],searchSelected:[],typeList:[],activeTab:"",JyElMessageBox:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""},type:"删除"},showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}},componentsSearchForm:{style:{lineStyle:{width:"calc(100% / 3)"},labelStyle:{width:"100px"}},data:[{id:"searchKey",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"姓名/账号/职位"}},{id:"hostOrganId",label:"所属部门",type:"derivable",inCommonUse:!0,defaultAttribute:{placeholder:"+所属部门"}}],butData:[{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:a,data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"},"cell-style":({row:e,column:a,rowIndex:t,columnIndex:l})=>{if(""===a.property)return{color:"var(--jy-info-6)",cursor:"pointer"}}}},componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,50,100],background:!0}},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"批量移除"}]}}),$=()=>{V.activeTab="user",V.tabsShow=["user"],H.value=!0};k.value={roleId:M.query.roleId};const H=d(!1);let K="";const Q=(e,a,t,l)=>{"t-zgj-role.Removal"===t.name&&(V.JyElMessageBox.header.data="移除",V.JyElMessageBox.content.data="请问确定要移除吗？",V.JyElMessageBox.show=!0,V.JyElMessageBox.type="移除",K=a.userId)},W=()=>{s.go(-1)},X=()=>{i.roleDelete(`${k.value.roleId}/${K}`).then((e=>{c.success("操作成功"),V.JyElMessageBox.show=!1,j.value.reloadData()}))};m((()=>V.searchSelected),(e=>{if(e&&0!==e.length)if("user"===V.activeTab){const a=[];e.forEach((e=>{a.push(e.id)})),i.addRoleUser({roleId:k.value.roleId,userIds:a}).then((e=>{c.success("操作成功"),V.JyElMessageBox.show=!1,V.searchSelected=[],j.value.reloadData()}))}else V.activeTab}));const Y=(e,a)=>{const t=[];a.forEach((e=>{t.push(e.userId)})),i.batchDeleteRoleUser({roleId:k.value.roleId,userIds:t}).then((()=>{c.success("操作成功"),j.value.reloadData()}))},Z=e=>{"hostOrganId"===e.id&&(V.activeTab="organ",V.tabsShow=["organ"],H.value=!0)};return(e,a)=>{const s=g("el-breadcrumb-item"),o=g("el-breadcrumb"),r=g("el-button"),i=g("JyElMessageBox");return h(),b("div",B,[y(l,{url:"/role/user/page",ref_key:"table",ref:j,hasTree:!1,breadcrumb:!0,needAutoRequest:!0,componentsSearchForm:w(V).componentsSearchForm,componentsTableHeader:w(V).componentsTable.header,componentsBatch:w(V).componentsBatch,queryParams:k.value,tableClick:"",onCellClick:e.cellClick,onCustomClick:Q,onClickBatchButton:Y,onClickElement:Z},{breadcrumb:p((()=>[v("div",E,[y(o,{separator:"/"},{default:p((()=>[y(s,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.65)"}},{default:p((()=>[I])),_:1}),y(s,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.25)"}},{default:p((()=>[J])),_:1})])),_:1})])])),title:p((()=>[v("div",T,[v("div",P,[v("div",O,[v("img",{class:"title-desc-img",src:t,alt:"",onClick:W}),L,v("span",_,"（"+f(R.value)+"）",1)])]),v("div",D,[v("div",z,[y(r,{type:"primary",onClick:$},{default:p((()=>[A])),_:1})]),U])])])),_:1},8,["componentsSearchForm","componentsTableHeader","componentsBatch","queryParams","onCellClick"]),H.value?(h(),x(w(n),{key:0,show:H.value,"onUpdate:show":a[0]||(a[0]=e=>H.value=e),searchSelected:w(V).searchSelected,"onUpdate:searchSelected":a[1]||(a[1]=e=>w(V).searchSelected=e),tabsShow:w(V).tabsShow,activeTab:w(V).activeTab},null,8,["show","searchSelected","tabsShow","activeTab"])):S("",!0),y(i,{modelValue:w(V).JyElMessageBox.show,"onUpdate:modelValue":a[3]||(a[3]=e=>w(V).JyElMessageBox.show=e),show:w(V).JyElMessageBox.show,defaultAttribute:{}},{header:p((()=>[v("div",q,[v("img",{src:w(V).JyElMessageBox.header.icon,alt:""},null,8,N),v("span",null,f(w(V).JyElMessageBox.header.data),1)])])),content:p((()=>[v("div",F,f(w(V).JyElMessageBox.content.data),1)])),footer:p((()=>[y(r,{type:"primary",onClick:X},{default:p((()=>[C(f(e.$t("t-zgj-operation.submit")),1)])),_:1}),y(r,{onClick:a[2]||(a[2]=e=>w(V).JyElMessageBox.show=!1)},{default:p((()=>[C(f(e.$t("t-zgj-operation.cancel")),1)])),_:1})])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-d7ae183b"]]))}}}));

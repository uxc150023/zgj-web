System.register(["./chunk-vform-legacy-f1b551df.js","./gengduo-caozuo-legacy-e441bcd3.js","./JyTable-legacy-7e059877.js","./JyTabs-legacy-c8c76c45.js","./documentsDetails-legacy-8c032a4c.js","./listUsing-legacy-daf83173.js","./RecordSealToReview-legacy-8ad20d94.js","./sealApplyIntellect-legacy-e34d74cc.js","./actionOneDialog-legacy-5690cf0f.js","./ApproverApi-legacy-443f9787.js","./listApprovingJson-legacy-f4da9ebd.js","./actionMoreDialog-legacy-24aadb09.js","./chunk-ant-design-vue-legacy-78f2abeb.js","./chunk-element-plus-legacy-3362d1f8.js","./sangedian-legacy-75d81ddc.js","./Layout-legacy-262a6687.js","./searchForm-legacy-04a651fb.js","./ketanchude-legacy-4abaf206.js","./KDocumentTypeDialog-legacy-0ecc1f11.js","./pagination-legacy-4c7c1f23.js","./batch-legacy-ff825cb6.js","./index-legacy-ed44ba95.js","./JyTabs.vue_vue_type_style_index_0_scoped_5e06bfe2_lang-legacy-bb1152fe.js","./cha-kong-legacy-1ebc7b7b.js","./table-legacy-0b33412c.js","./documentsDetails.vue_vue_type_style_index_0_scoped_204b6fa9_lang-legacy-1381b1de.js","./portion-legacy-cfca188a.js","./portion.vue_vue_type_style_index_0_scoped_3abd16ad_lang-legacy-c3216d6b.js","./yuan-hui-legacy-0c1e3d03.js","./request-util-legacy-680a8f33.js"],(function(e,l){"use strict";var a,t,o,s,n,i,r,d,p,u,c,m,y,g,h,b,f,v,D,S,w,A,M,T,x,J,j,I,U,N,B,C,_,k,E,R,q,P,F,Y,V,O=document.createElement("style");return O.textContent=".PrintControlManagement-recordWithSeal[data-v-b30ef6f9]{margin:0%}.PrintControlManagement-recordWithSeal .title[data-v-b30ef6f9]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-recordWithSeal .title .title-more[data-v-b30ef6f9]{height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .title .title-more .title-more-add[data-v-b30ef6f9]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .title .title-more .title-more-down[data-v-b30ef6f9]{height:100%;display:flex;align-items:center}.PrintControlManagement-recordWithSeal .batch[data-v-b30ef6f9]{display:flex;align-items:center}.PrintControlManagement-recordWithSeal .batch .batch-desc[data-v-b30ef6f9]{margin-right:.8571428571rem}\n",document.head.appendChild(O),{setters:[e=>{a=e.g,t=e.j,o=e.P,s=e.a3,n=e.n},e=>{i=e._},e=>{r=e.J},e=>{d=e.c},e=>{p=e.c},e=>{u=e.d,c=e.l,m=e.a,y=e.b,g=e.c,h=e.e,b=e.f,f=e.g,v=e.h},e=>{D=e.R},e=>{S=e.a},e=>{w=e.a},e=>{A=e.A},e=>{M=e.s},e=>{T=e.a},e=>{x=e.a,J=e.at,j=e.a9,I=e.d,U=e.aQ,N=e.W,B=e.X,C=e.ap,_=e.ai,k=e.Y,E=e.u,R=e.am,q=e.ah,P=e.an,F=e.n,Y=e.ba,V=e.bb},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=[{id:"keyword",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人/用印编码"}},{id:"applyTime",label:"申请时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeId",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"sealId",requestParams:"sealId",label:"印章名称",type:"dialog",defaultAttribute:{type:"JySelectSeal",multiple:!1,placeholder:"+印章名称"},options:[]},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!1,placeholder:"+申请人"},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganId",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!1,placeholder:"+申请部门"},options:[],values:null},{id:"relatedCompanyId",label:"往来单位",type:"dialog",defaultAttribute:{type:"JyRelatedCompany",multiple:!1,placeholder:"+往来单位"},options:[],values:null},{id:"totalMoney",label:"金额",type:"scopeInput",startAttribute:{placeholder:"最小金额",id:"totalMoneyMin"},endAttribute:{placeholder:"最大金额",id:"totalMoneyMax"}},{id:"applyTime",label:"盖章时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},style:{}},{id:"extSeal",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"印章外带","true-label":1,"false-label":0},style:{}}]},{id:"querySelf",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据","true-label":1,"false-label":0},style:{}}]}],O=[{id:"keyword",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人/用印编码"}},{id:"applyTime",label:"申请时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeId",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"sealId",requestParams:"sealId",label:"印章名称",type:"dialog",defaultAttribute:{type:"JySelectSeal",multiple:!1,placeholder:"+印章名称"},options:[],values:null},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!1,placeholder:"+申请人"},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganId",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!1,placeholder:"+申请部门"},options:[],values:null},{id:"relatedCompanyId",label:"往来单位",type:"dialog",defaultAttribute:{type:"JyRelatedCompany",multiple:!1,placeholder:"+往来单位"},options:[],values:null},{id:"totalMoney",label:"金额",type:"scopeInput",startAttribute:{placeholder:"最小金额",id:"totalMoneyMin"},endAttribute:{placeholder:"最大金额",id:"totalMoneyMax"}},{id:"applyTime",label:"盖章时间",type:"picker",requestType:"array",startRequest:"applyStartTime",endRequest:"applyEndTime",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},style:{}},{id:"status",label:"用印状态",type:"checkButton",data:[{id:"1",name:"正常"},{id:"0",name:"异常"}]},{id:"extSeal",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"印章外带","true-label":1,"false-label":0},style:{}}]},{id:"querySelf",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据","true-label":1,"false-label":0},style:{}}]}],W=e=>(Y("data-v-b30ef6f9"),e=e(),V(),e),z={class:"PrintControlManagement-recordWithSeal"},$={class:"title"},L=W((()=>k("div",null,"用印记录",-1))),H={class:"title-more"},X=W((()=>k("div",{class:"title-more-add"},null,-1))),K={key:0,class:"title-more-down"},Q=W((()=>k("img",{class:"button-icon",src:i,alt:"",srcset:""},null,-1))),Z=W((()=>k("span",null,"更多操作",-1))),G=P("查看已作废的单据"),ee={class:"ap-box"};e("default",a({setup(e){const a=t(),i=x(!1),P=x(null),Y=J({show:!1,title:"流程终止",formJson:u}),V=x(null),W=x("listApproving"),le=x({listApproving:c,listFileVerification:m,listNoResult:y,listNotUse:g,listNoUse:h,listResultDone:b,listUseDone:f,listUsing:v}),ae=x(null),te=e=>{e?V.value.getFormData().then((e=>{alert(JSON.stringify(e))})):V.value.resetForm()},oe=J({componentsTitle:{more:{data:[{name:"查看已作废的单据",codle:"1"}]}},componentsTabs:{data:[{label:"待审批",name:"listApproving"},{label:"待文件核验",name:"listFileVerification"},{label:"待智能用印",name:"listNoUse"},{label:"智能用印中",name:"listUsing"},{label:"已完成用印",name:"listUseDone"},{label:"待上传文件归档",name:"listNoResult"},{label:"已完成归档",name:"listResultDone"},{label:"不可用",name:"listNotUse"}]},componentsSearchForm:{data:M,butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:c},componentsDocumentsDetails:{show:!1,visible:[{label:"用印详情",name:"Details-of-Printing"},{label:"审批流程",name:"approval-process"},{label:"领用记录",name:"Record-of-requisition"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"批量作废"}]},JyElMessageBox:{type:"",column:{},flag:"",show:!1,header:{data:""},content:{data:""}},computedData:[],showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}}});function se(e,l,a,t){"useSealFileName"===l.property&&(oe.componentsDocumentsDetails.show=!0,S.sealBaseInfo({useSealApplyId:e.useSealApplyId}).then((e=>{const l=e.data,a=[{label:"文件名称",value:l.useSealFileName},{label:"单据编码",value:l.useSealApplyNo},{label:"文件类型",value:l.fileTypeName},{label:"文件份数",value:(l.useSealFileNum||0)+"份"},{label:"金额",value:l.totalMoney||"-"},{label:"申请事由",value:l.useSealInfo},{label:"盖章码",value:l.sealCode||"-"},{label:"申请人员",value:l.applyUserName},{label:"申请时间",value:l.applyDatetime},{label:"所属部门",value:l.applyOrganName},{label:"单据状态",value:l.useSealStateName,iconPath:"yuanLv",iconStyle:{},valStyle:{color:"var(--jy-success-6)"}}];l.listSeal.length&&(1===l.listSeal.length?a.splice(a.length-5,0,{label:"印章名称",value:l.listSeal[0].useSealApplySealInfoDto.sealName},{label:"常规盖章",value:l.listSeal[0].useSealApplySealNumDto.applySealNum+"次"}):l.listSeal.forEach(((e,l)=>{a.splice(a.length-5,0,{label:`印章${l+1}名称`,value:e.useSealApplySealInfoDto.sealName},{label:"常规盖章",value:e.useSealApplySealNumDto.applySealNum+"次"})}))),oe.componentsDocumentsDetails.visible[0].basicInformation={show:!0,data:a}})),S.intellect({useSealApplyId:e.useSealApplyId}).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.length?oe.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!0,data:e.data}:oe.componentsDocumentsDetails.visible[0].IntelligentPrinting={show:!1,data:[]}})),S.attachment({useSealApplyId:e.useSealApplyId}).then((e=>{var l,a;null!==(l=e.data.fileInfos)&&void 0!==l&&l.length||null!==(a=e.data.fileInfoAdds)&&void 0!==a&&a.length?oe.componentsDocumentsDetails.visible[0].accessory={show:!0,printedData:e.data.fileInfos,additionalData:e.data.fileInfoAdds}:oe.componentsDocumentsDetails.visible[0].accessory={show:!1,printedData:[],additionalData:[]}})))}function ne(e,l,t,o){oe.JyElMessageBox.type=t.name,oe.JyElMessageBox.column=l,"t-zgj-Revocation"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="撤销后本次申请送审将被取消，请问确定要撤销吗？",oe.JyElMessageBox.show=!0),"t-zgj-Void"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="作废后当前记录将从当前表格中消失，请问确定要作废吗？",oe.JyElMessageBox.show=!0),"流程终止"===t.name&&(Y.show=!0,Y.title="流程终止",Y.formJson=u),"复核"===t.name&&(Y.show=!0,Y.title="复核",Y.formJson=D),"解除用印限制"===t.name&&(oe.JyElMessageBox.header.data="提示？",oe.JyElMessageBox.content.data="若单据满足【远程盖章】、【实时视频盖章】、【二维码水印校验】、【限时用印】、【印章外带】、【盖前文件内容核验】条件，此操作会取消所有相关校验并将盖章模式转为普通智能用印，以支持用印人跳过限制直接用印，确定要继续吗？",oe.JyElMessageBox.show=!0),"去送审"===t.name&&a.push({name:"InnerPageApplication"})}const ie=()=>{"t-zgj-Revocation"===oe.JyElMessageBox.type?A.withdraw({instanceId:oe.JyElMessageBox.column.gunsSysId}).then((()=>{s("撤销成功"),ae.value.reloadData()})).finally((()=>{oe.JyElMessageBox.show=!1})):"t-zgj-Void"===oe.JyElMessageBox.type&&S.invalid({sealUseApplyIds:[oe.JyElMessageBox.column.useSealApplyId]}).then((()=>{ae.value.reloadData(),s("作废成功")})).finally((()=>{oe.JyElMessageBox.show=!1}))};function re(){oe.componentsDocumentsDetails.show=!1}function de(e){oe.componentsTable.header=le.value[e],W.value=e,"listApproving"===e||"listUseDone"===e||"listUsing"===e?oe.componentsBatch.data=[{name:"批量作废"}]:"listFileVerification"!==e&&"listNoResult"!==e&&"listNotUse"!==e&&"listNoUse"!==e&&"listResultDone"!==e||(oe.componentsBatch.data=[{name:"批量作废"},{name:"批量流程终止"}]),"listApproving"===e||"listFileVerification"===e||"listNoResult"===e||"listNotUse"===e||"listNoUse"===e||"listResultDone"===e||"listUseDone"===e?oe.componentsTitle.more.data=[{name:"查看已作废的单据"},{name:"导出台账"}]:"listUsing"===e&&(oe.componentsTitle.more.data=[{name:"查看已作废的单据"}]),"listApproving"===e||"listFileVerification"===e||"listNoResult"===e||"listUsing"===e?oe.componentsSearchForm.data=JSON.parse(JSON.stringify(M)):"listNotUse"===e?oe.componentsSearchForm.data=JSON.parse(JSON.stringify(l)):"listNoUse"!==e&&"listResultDone"!==e&&"listUseDone"!==e||(oe.componentsSearchForm.data=JSON.parse(JSON.stringify(O))),F((()=>{ae.value.reloadData()}))}function pe(e,l){oe.componentsBatch.selectionData=l,P.value={header:{data:"批量作废"},content:{data:"作废后当前记录将从当前表格中消失，请问确定要作废么？"}},oe.showToastDialog.show=!0}const ue=()=>{const e=oe.componentsBatch.selectionData,l=[];e.forEach((e=>{l.push(e.useSealApplyId)})),S.invalid({sealUseApplyIds:l}).then((e=>{ae.value.reloadData(),s("作废成功"),oe.showToastDialog.show=!1}))};return j((()=>{})),I((()=>{})),(e,l)=>{const t=U("el-button"),s=U("el-dropdown-item"),u=U("el-dropdown-menu"),c=U("el-dropdown"),m=U("v-form-render"),y=n;return N(),B("div",z,[C(r,{url:`/sealApply/${W.value}`,ref_key:"jyTable",ref:ae,hasTabs:"",componentsSearchForm:E(oe).componentsSearchForm,componentsTableHeader:E(oe).componentsTable.header,componentsBatch:E(oe).componentsBatch,computedData:"listApproving"===W.value?E(oe).computedData:[],tableClick:"useSealFileName",onCellClick:se,onCustomClick:ne,onClickBatchButton:pe},{title:_((()=>[k("div",$,[L,k("div",H,[X,E(oe).componentsTitle.more.data.length>0?(N(),B("div",K,[C(c,null,{dropdown:_((()=>[C(u,null,{default:_((()=>[C(s,{onClick:l[0]||(l[0]=e=>E(a).push({name:"VoidApply"}))},{default:_((()=>[G])),_:1})])),_:1})])),default:_((()=>[C(t,null,{default:_((()=>[Q,Z])),_:1})])),_:1})])):R("",!0)])])])),tabs:_((()=>[k("div",null,[C(d,{activeName:W.value,data:E(oe).componentsTabs.data,onTabChange:de},null,8,["activeName","data"])])])),_:1},8,["url","componentsSearchForm","componentsTableHeader","componentsBatch","computedData"]),k("div",ee,[C(p,{show:E(oe).componentsDocumentsDetails.show,visible:E(oe).componentsDocumentsDetails.visible,onClickClose:re},null,8,["show","visible"])]),C(y,{"onUpdate:show":l[1]||(l[1]=e=>E(Y).show=e),show:E(Y).show,title:E(Y).title,oneBtn:!1,centerBtn:"",confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),onClose:te},{default:_((()=>[(N(),q(m,{"form-json":E(Y).formJson,"form-data":E(Y).formJson,"option-data":E(Y).optionData,ref_key:"vFormLibraryRef",ref:V,key:E(Y).title},null,8,["form-json","form-data","option-data"]))])),_:1},8,["show","title","confirmText","concelText"]),i.value?(N(),q(E(o),{key:0,show:i.value,"onUpdate:show":l[2]||(l[2]=e=>i.value=e)},null,8,["show"])):R("",!0),C(w,{modelValue:E(oe).JyElMessageBox.show,"onUpdate:modelValue":[l[3]||(l[3]=e=>E(oe).JyElMessageBox.show=e),E(oe).JyElMessageBox.show],JyElMessageBox:E(oe).JyElMessageBox,onSubmitElMessageBox:ie},null,8,["modelValue","JyElMessageBox","onUpdate:modelValue"]),C(E(T),{"onUpdate:modelValue":l[4]||(l[4]=e=>E(oe).showToastDialog.show=!1),show:E(oe).showToastDialog.show,selectionData:E(oe).componentsBatch.selectionData,showToastDialogContent:P.value,label:"useSealFileName",onSureAction:ue},null,8,["show","selectionData","showToastDialogContent"])])}}},[["__scopeId","data-v-b30ef6f9"]]))}}}));
